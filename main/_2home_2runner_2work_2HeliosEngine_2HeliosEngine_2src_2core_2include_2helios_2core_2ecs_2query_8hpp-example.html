<!-- HTML header for doxygen 1.9.1+ with doxygen-awesome-css extensions -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
    <head>
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=11" />
        <meta name="generator" content="Doxygen 1.9.8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Helios Engine: /home/runner/work/HeliosEngine/HeliosEngine/src/core/include/helios/core/ecs/query.hpp</title>
        <!--BEGIN PROJECT_ICON-->
        <!--<link rel="icon" href="$projecticon" type="image/x-icon" />-->
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <!--END PROJECT_ICON-->
        <link href="tabs.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
        <!--BEGIN COPY_CLIPBOARD-->
        <script type="text/javascript" src="clipboard.js"></script>
        <!--END COPY_CLIPBOARD-->
        <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
 <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>  
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
        <!-- doxygen-awesome-css extensions -->
        <script
            type="text/javascript"
            src="doxygen-awesome-fragment-copy-button.js"
        ></script>
        <script
            type="text/javascript"
            src="doxygen-awesome-paragraph-link.js"
        ></script>
        <script
            type="text/javascript"
            src="doxygen-awesome-interactive-toc.js"
        ></script>
        <script
            type="text/javascript"
            src="doxygen-awesome-tabs.js"
        ></script>
        <!-- Initialize doxygen-awesome-css extensions -->
        <script type="text/javascript">
            // Dark mode toggle customization
            //DoxygenAwesomeDarkModeToggle.title = "Toggle light/dark mode";
            //DoxygenAwesomeDarkModeToggle.lightModeIcon = "‚òÄÔ∏è";
            //DoxygenAwesomeDarkModeToggle.darkModeIcon = "üåô";
            //DoxygenAwesomeDarkModeToggle.init();
            // Fragment copy button customization
            DoxygenAwesomeFragmentCopyButton.title = "Copy to clipboard";
            DoxygenAwesomeFragmentCopyButton.init();
            // Paragraph link customization
            DoxygenAwesomeParagraphLink.title = "Copy link to this section";
            DoxygenAwesomeParagraphLink.icon = "¬∂";
            DoxygenAwesomeParagraphLink.init();
            // Interactive TOC customization
            DoxygenAwesomeInteractiveToc.topOffset = 45;
            DoxygenAwesomeInteractiveToc.hideMobileMenu = true;
            DoxygenAwesomeInteractiveToc.init();
            // Tabs extension
            DoxygenAwesomeTabs.init();
        </script>
    </head>
    <body>
            <div id="top">
                <!-- do not remove this div, it is closed by doxygen! -->
                <div id="titlearea">
                    <table cellspacing="0" cellpadding="0">
                        <tbody>
                            <tr id="projectrow">
                                <td id="projectlogo">
                                    <img
                                        alt="Logo"
                                        src="logo.png"
                                        $logosize
                                    />
                                </td>
                                <td id="projectalign">
                                    <div id="projectname">
                                        Helios Engine<span
                                            id="projectnumber"
                                            >&#160;0.1.0</span
                                        >
                                    </div>
                                    <div id="projectbrief">A modular ECS based data-oriented C++23 game engine</div>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- end header part -->
            </div>
        </div>
    </body>
</html>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_2home_2runner_2work_2HeliosEngine_2HeliosEngine_2src_2core_2include_2helios_2core_2ecs_2query_8hpp-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">/home/runner/work/HeliosEngine/HeliosEngine/src/core/include/helios/core/ecs/query.hpp</div></div>
</div><!--header-->
<div class="contents">
<p>Collects all results into a vector.</p>
<p>Collects all results into a vector. </p><dl class="section return"><dt>Returns</dt><dd>Vector of tuples containing entity and components</dd></dl>
<div class="fragment"><div class="line"><span class="keyword">auto</span> all_results = query.WithEntity().Collect();</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="core__pch_8hpp.html">helios/core_pch.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="access__policy_8hpp.html">helios/core/app/access_policy.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="assert_8hpp.html">helios/core/assert.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="component_8hpp.html">helios/core/ecs/component.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="archetype_8hpp.html">helios/core/ecs/details/archetype.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="components__manager_8hpp.html">helios/core/ecs/details/components_manager.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="query__cache_8hpp.html">helios/core/ecs/details/query_cache.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="entity_8hpp.html">helios/core/ecs/entity.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="world_8hpp.html">helios/core/ecs/world.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="logger_8hpp.html">helios/core/logger.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="common__traits_8hpp.html">helios/core/utils/common_traits.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="functional__adapters_8hpp.html">helios/core/utils/functional_adapters.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;concepts&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;span&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacehelios_1_1ecs.html">helios::ecs</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>details {</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Type trait to extract the underlying component type from const/reference wrappers.</span></div>
<div class="line"><span class="comment"> * @details Handles cases like:</span></div>
<div class="line"><span class="comment"> * - const Position&amp; -&gt; Position</span></div>
<div class="line"><span class="comment"> * - Position&amp; -&gt; Position</span></div>
<div class="line"><span class="comment"> * - Position -&gt; Position</span></div>
<div class="line"><span class="comment"> * @tparam T Type to extract from (may be const-qualified or reference type)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>ComponentTypeExtractor {</div>
<div class="line">  <span class="keyword">using </span><a id="a0" name="a0"></a><a class="code hl_typedef" href="structhelios_1_1ecs_1_1details_1_1ComponentTypeExtractor.html#a6b7d3f7cf10325559587e9155ffa8a3a">type</a> = std::remove_cvref_t&lt;T&gt;;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a1" name="a1"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs_1_1details.html#ad7cdf44f8b65f9736069d19890458149">ComponentTypeExtractor_t</a> = <span class="keyword">typename</span> <a class="code hl_typedef" href="structhelios_1_1ecs_1_1details_1_1ComponentTypeExtractor.html#a6b7d3f7cf10325559587e9155ffa8a3a">ComponentTypeExtractor&lt;T&gt;::type</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Helper to check if a type represents a const-qualified component access.</span></div>
<div class="line"><span class="comment"> * @details Determines if the requested access is const-qualified for read-only operations.</span></div>
<div class="line"><span class="comment"> * @tparam T Type to check for const qualification</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a id="a2" name="a2"></a><a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a813af18a8810bbea84e6c5e157fc3621">IsConstComponent</a> = std::is_const_v&lt;std::remove_reference_t&lt;T&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Helper to check if all component types are const-qualified.</span></div>
<div class="line"><span class="comment"> * @details Used to determine if an iterator can work with const Components.</span></div>
<div class="line"><span class="comment"> * @tparam Components Component types to check</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Components&gt;</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a id="a3" name="a3"></a><a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">AllComponentsConst</a> = (<a id="a4" name="a4"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">IsConstComponent&lt;Components&gt;</a> &amp;&amp; ...);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Helper to detect if World type is const.</span></div>
<div class="line"><span class="comment"> * @details Used for compile-time validation of const World access.</span></div>
<div class="line"><span class="comment"> * @tparam T World type</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keywordtype">bool</span> <a id="a5" name="a5"></a><a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a5034b26966a80a3b3c7ee3c8260b3338">IsConstWorld</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldType&lt;T&gt;</a> &amp;&amp; std::is_const_v&lt;std::remove_reference_t&lt;T&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Concept for valid World/Component access combinations.</span></div>
<div class="line"><span class="comment"> * @details Ensures that:</span></div>
<div class="line"><span class="comment"> * - Non-const World allows any component access (const or mutable)</span></div>
<div class="line"><span class="comment"> * - Const World only allows const component access</span></div>
<div class="line"><span class="comment"> * @tparam WorldT World type (World or const World)</span></div>
<div class="line"><span class="comment"> * @tparam Components Component access types to validate</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span>... Components&gt;</div>
<div class="line"><span class="keyword">concept </span>ValidWorldComponentAccess =</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldType&lt;WorldT&gt;</a> &amp;&amp; (!<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">IsConstWorld&lt;WorldT&gt;</a> ||                 <span class="comment">// Non-const World allows anything</span></div>
<div class="line">                          (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">IsConstComponent&lt;Components&gt;</a> &amp;&amp; ...));  <span class="comment">// Const World requires all const Components</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Helper to determine the proper return type for component access.</span></div>
<div class="line"><span class="comment"> * @details Returns appropriate reference type based on const qualification:</span></div>
<div class="line"><span class="comment"> * - const T&amp; for const-qualified access</span></div>
<div class="line"><span class="comment"> * - T&amp; for mutable access</span></div>
<div class="line"><span class="comment"> * - T for value types (copy)</span></div>
<div class="line"><span class="comment"> * @tparam T Requested component access type</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a6" name="a6"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs_1_1details.html#abd1a4dbf69fb38bd09d2ca0d4943dea3">ComponentAccessType</a> =</div>
<div class="line">    std::conditional_t&lt;std::is_reference_v&lt;T&gt;,</div>
<div class="line">                       T,  <span class="comment">// Keep reference as-is (const T&amp; or T&amp;)</span></div>
<div class="line">                       std::conditional_t&lt;std::is_const_v&lt;T&gt;,</div>
<div class="line">                                          <span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeExtractor_t&lt;T&gt;</a>&amp;,  <span class="comment">// const T -&gt; const T&amp;</span></div>
<div class="line">                                          <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeExtractor_t&lt;T&gt;</a>&amp;         <span class="comment">// T -&gt; T&amp;</span></div>
<div class="line">                                          &gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Concept for STL-compatible allocators.</span></div>
<div class="line"><span class="comment"> * @tparam Alloc Allocator type to check</span></div>
<div class="line"><span class="comment"> * @tparam T Value type for the allocator</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Alloc, <span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">concept </span>AllocatorFor = <span class="keyword">requires</span>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Alloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">n</a>) {</div>
<div class="line">  { <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>.allocate(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">n</a>) } -&gt; std::same_as&lt;T*&gt;;</div>
<div class="line">  { <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>.deallocate(std::declval&lt;T*&gt;(), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">n</a>) };</div>
<div class="line">  <span class="keyword">typename</span> <a id="a7" name="a7"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">Alloc::value_type</a>;</div>
<div class="line">  <span class="keyword">requires</span> std::same_as&lt;typename Alloc::value_type, T&gt;;</div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Iterator for query results without entity information.</span></div>
<div class="line"><span class="comment"> * @details Provides forward iteration over entities matching the query criteria,</span></div>
<div class="line"><span class="comment"> * returning tuples of requested component references. Supports const-qualified</span></div>
<div class="line"><span class="comment"> * component access for read-only operations.</span></div>
<div class="line"><span class="comment"> * @note Not thread-safe.</span></div>
<div class="line"><span class="comment"> * @tparam Components Requested component access types (may include const qualifiers)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>QueryIterator : <span class="keyword">public</span> utils::FunctionalAdapterBase&lt;QueryIterator&lt;Components...&gt;&gt; {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /// Components manager type based on whether all components are const-qualified</span></div>
<div class="line"><span class="comment"></span>  <span class="keyword">using </span><a id="a8" name="a8"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ae47d0858227cee46b609df8cf0381a51">ComponentsType</a> =</div>
<div class="line">      std::conditional_t&lt;<a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">AllComponentsConst</a>&lt;Components...&gt;, <span class="keyword">const</span> details::Components, details::Components&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Standard iterator type aliases required by C++20 concepts</span></div>
<div class="line">  <span class="keyword">using </span><a id="a9" name="a9"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a964d8d389a646a24570dc14ca96c9625">iterator_category</a> = std::forward_iterator_tag;</div>
<div class="line">  <span class="keyword">using </span><a id="a10" name="a10"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aca20bd87461d7742e40f69565d6d3c75">value_type</a> = std::tuple&lt;ComponentAccessType&lt;Components&gt;...&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a11" name="a11"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a28a400ec67e1f3ac34716dcdceef294f">difference_type</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ptrdiff_t</a>;</div>
<div class="line">  <span class="keyword">using </span><a id="a12" name="a12"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a306dff52a2088437f2bedd1598cb57a6">pointer</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aca20bd87461d7742e40f69565d6d3c75">value_type</a>*;</div>
<div class="line">  <span class="keyword">using </span><a id="a13" name="a13"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a5eef5d3263ab3d033fc779352027e6a8">reference</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aca20bd87461d7742e40f69565d6d3c75">value_type</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs iterator for query results.</span></div>
<div class="line"><span class="comment">   * @details Initializes iterator to point to the first matching entity.</span></div>
<div class="line"><span class="comment">   * @param archetypes Span of archetypes matching the query</span></div>
<div class="line"><span class="comment">   * @param components Component manager for accessing component data</span></div>
<div class="line"><span class="comment">   * @param archetype_index Starting archetype index (default: 0)</span></div>
<div class="line"><span class="comment">   * @param entity_index Starting entity index within archetype (default: 0)</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryIterator(std::span&lt;<span class="keyword">const</span> std::reference_wrapper&lt;const Archetype&gt;&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>, <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ae47d0858227cee46b609df8cf0381a51">ComponentsType</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>,</div>
<div class="line">                <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a> = 0, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a> = 0);</div>
<div class="line">  QueryIterator(<span class="keyword">const</span> QueryIterator&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  QueryIterator(QueryIterator&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  <a id="a14" name="a14"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ae05fdc7b2403a8eab07b97e132fa3179">~QueryIterator</a>() <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  QueryIterator&amp; <a id="a15" name="a15"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ad1d56cf797023f78b714aa84fe415540">operator=</a>(<span class="keyword">const</span> QueryIterator&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  QueryIterator&amp; <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ad1d56cf797023f78b714aa84fe415540">operator=</a>(QueryIterator&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator to next matching entity.</span></div>
<div class="line"><span class="comment">   * @return Reference to this iterator after advancement</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryIterator&amp; <a id="a16" name="a16"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aba64bef91700159f502205cd96869ac8">operator++</a>();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator to next matching entity.</span></div>
<div class="line"><span class="comment">   * @return Copy of iterator before advancement</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryIterator <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aba64bef91700159f502205cd96869ac8">operator++</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Moves iterator to previous matching entity.</span></div>
<div class="line"><span class="comment">   * @return Reference to this iterator after moving backward</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryIterator&amp; <a id="a17" name="a17"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac3e4175413a8a18a7f0fc7492fd1a239">operator--</a>();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Moves iterator to previous matching entity.</span></div>
<div class="line"><span class="comment">   * @return Copy of iterator before moving backward</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryIterator <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac3e4175413a8a18a7f0fc7492fd1a239">operator--</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Dereferences iterator to get component tuple.</span></div>
<div class="line"><span class="comment">   * @details Returns tuple of component references for the current entity.</span></div>
<div class="line"><span class="comment">   * Handles const-qualified access appropriately.</span></div>
<div class="line"><span class="comment">   * @warning Triggers assertion if iterator is at end or in invalid state.</span></div>
<div class="line"><span class="comment">   * @return Tuple of component references with appropriate const qualifiers</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aca20bd87461d7742e40f69565d6d3c75">value_type</a> <a id="a18" name="a18"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac7b01c26e2e3b696741201cf44fec6a4">operator*</a>() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Compares iterators for equality.</span></div>
<div class="line"><span class="comment">   * @details Two iterators are equal if they point to the same archetype and entity indices.</span></div>
<div class="line"><span class="comment">   * @param other Iterator to compare with</span></div>
<div class="line"><span class="comment">   * @return True if iterators are equal, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a19" name="a19"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a644b463c32bd3a79891492ca0887287c">operator==</a>(<span class="keyword">const</span> QueryIterator&amp; other) <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">    <span class="keywordflow">return</span> archetype_index_ == other.archetype_index_ &amp;&amp; entity_index_ == other.entity_index_;</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Compares iterators for inequality.</span></div>
<div class="line"><span class="comment">   * @param other Iterator to compare with</span></div>
<div class="line"><span class="comment">   * @return True if iterators are not equal, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a20" name="a20"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a849201cd53a8819e5770e3aa790596c7">operator!=</a>(<span class="keyword">const</span> QueryIterator&amp; other) <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == other); }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Returns iterator to the beginning.</span></div>
<div class="line"><span class="comment">   * @return Copy of this iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] QueryIterator <a id="a21" name="a21"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ab3f5e8026c51278be617953f3ab1a162">begin</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Returns iterator to the end.</span></div>
<div class="line"><span class="comment">   * @return End iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] QueryIterator <a id="a22" name="a22"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac5dad572583276aa3a9876a9b0a2d211">end</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> {archetypes_, components_.get(), archetypes_.size(), 0}; }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator position to next valid entity.</span></div>
<div class="line"><span class="comment">   * @details Skips empty archetypes and moves to valid entity positions.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keywordtype">void</span> AdvanceToValidEntity();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if iterator has reached the end.</span></div>
<div class="line"><span class="comment">   * @return True if iterator is past the last valid entity, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> IsAtEnd() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> archetype_index_ &gt;= archetypes_.size(); }</div>
<div class="line"> </div>
<div class="line">  std::span&lt;const std::reference_wrapper&lt;const Archetype&gt;&gt; archetypes_;  <span class="comment">///&lt; Archetypes matching the query</span></div>
<div class="line">  std::reference_wrapper&lt;ComponentsType&gt; components_;                    <span class="comment">///&lt; Component manager for data access</span></div>
<div class="line">  <span class="keywordtype">size_t</span> archetype_index_ = 0;                                           <span class="comment">///&lt; Current archetype index</span></div>
<div class="line">  <span class="keywordtype">size_t</span> entity_index_ = 0;                                              <span class="comment">///&lt; Current entity index within archetype</span></div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Iterator for query results with entity information.</span></div>
<div class="line"><span class="comment"> * @details Provides forward iteration over entities matching the query criteria,</span></div>
<div class="line"><span class="comment"> * returning tuples that include the entity followed by requested component references.</span></div>
<div class="line"><span class="comment"> * @note Not thread-safe.</span></div>
<div class="line"><span class="comment"> * @tparam Components Requested component access types (may include const qualifiers)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>QueryWithEntityIterator : <span class="keyword">public</span> utils::FunctionalAdapterBase&lt;QueryWithEntityIterator&lt;Components...&gt;&gt; {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /// Components manager type based on whether all components are const-qualified</span></div>
<div class="line"><span class="comment"></span>  <span class="keyword">using </span><a id="a23" name="a23"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#af60ee16d9bef57ace71d5779f5806f33">ComponentsType</a> =</div>
<div class="line">      std::conditional_t&lt;<a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">AllComponentsConst</a>&lt;Components...&gt;, <span class="keyword">const</span> details::Components, details::Components&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Standard iterator type aliases required by C++20 concepts</span></div>
<div class="line">  <span class="keyword">using </span><a id="a24" name="a24"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aae9655b8e5734f718ee8eacd6654321c">iterator_category</a> = std::forward_iterator_tag;</div>
<div class="line">  <span class="keyword">using </span><a id="a25" name="a25"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a090e5ea03cc51c32fe8170720b6a4587">value_type</a> = std::tuple&lt;Entity, ComponentAccessType&lt;Components&gt;...&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a26" name="a26"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a23aeec40095c8157872912fcf460669e">difference_type</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ptrdiff_t</a>;</div>
<div class="line">  <span class="keyword">using </span><a id="a27" name="a27"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1d33ef80905a391e96631c4430634b83">pointer</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a090e5ea03cc51c32fe8170720b6a4587">value_type</a>*;</div>
<div class="line">  <span class="keyword">using </span><a id="a28" name="a28"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#acc0a65deba9524b64a0e32ae6ef6d7db">reference</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a090e5ea03cc51c32fe8170720b6a4587">value_type</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs iterator for query results with entity.</span></div>
<div class="line"><span class="comment">   * @details Initializes iterator to point to the first matching entity.</span></div>
<div class="line"><span class="comment">   * @param archetypes Span of archetypes matching the query</span></div>
<div class="line"><span class="comment">   * @param components Component manager for accessing component data</span></div>
<div class="line"><span class="comment">   * @param archetype_index Starting archetype index (default: 0)</span></div>
<div class="line"><span class="comment">   * @param entity_index Starting entity index within archetype (default: 0)</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryWithEntityIterator(std::span&lt;<span class="keyword">const</span> std::reference_wrapper&lt;const Archetype&gt;&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>,</div>
<div class="line">                          <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#af60ee16d9bef57ace71d5779f5806f33">ComponentsType</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a> = 0, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a> = 0);</div>
<div class="line">  QueryWithEntityIterator(<span class="keyword">const</span> QueryWithEntityIterator&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  QueryWithEntityIterator(QueryWithEntityIterator&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  <a id="a29" name="a29"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1f0fa729af8d7537de844421f2b1bd7a">~QueryWithEntityIterator</a>() <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  QueryWithEntityIterator&amp; <a id="a30" name="a30"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a88e49f0e4586f628e0c244cf654db8b5">operator=</a>(<span class="keyword">const</span> QueryWithEntityIterator&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  QueryWithEntityIterator&amp; <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a88e49f0e4586f628e0c244cf654db8b5">operator=</a>(QueryWithEntityIterator&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator to next matching entity.</span></div>
<div class="line"><span class="comment">   * @return Reference to this iterator after advancement</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryWithEntityIterator&amp; <a id="a31" name="a31"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aebeddc2e54315808bebebe8ecdda438a">operator++</a>();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator to next matching entity.</span></div>
<div class="line"><span class="comment">   * @return Copy of iterator before advancement</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryWithEntityIterator <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aebeddc2e54315808bebebe8ecdda438a">operator++</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Moves iterator to previous matching entity.</span></div>
<div class="line"><span class="comment">   * @return Reference to this iterator after moving backward</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryWithEntityIterator&amp; <a id="a32" name="a32"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ae284f4ac913e0456160fb63d4d66c77f">operator--</a>();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Moves iterator to previous matching entity.</span></div>
<div class="line"><span class="comment">   * @return Copy of iterator before moving backward</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  QueryWithEntityIterator <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ae284f4ac913e0456160fb63d4d66c77f">operator--</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Dereferences iterator to get entity and component tuple.</span></div>
<div class="line"><span class="comment">   * @details Returns tuple starting with entity followed by component references.</span></div>
<div class="line"><span class="comment">   * @warning Triggers assertion if iterator is at end or in invalid state.</span></div>
<div class="line"><span class="comment">   * @return Tuple of entity and component references</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a090e5ea03cc51c32fe8170720b6a4587">value_type</a> <a id="a33" name="a33"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ac19e493498a93f3488512806b6ef8256">operator*</a>() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Compares iterators for equality.</span></div>
<div class="line"><span class="comment">   * @param other Iterator to compare with</span></div>
<div class="line"><span class="comment">   * @return True if iterators are equal, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a34" name="a34"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1e4f35a214163aa2cb9bbc29f53d314b">operator==</a>(<span class="keyword">const</span> QueryWithEntityIterator&amp; other) <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">    <span class="keywordflow">return</span> archetype_index_ == other.archetype_index_ &amp;&amp; entity_index_ == other.entity_index_;</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Compares iterators for inequality.</span></div>
<div class="line"><span class="comment">   * @param other Iterator to compare with</span></div>
<div class="line"><span class="comment">   * @return True if iterators are not equal, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a35" name="a35"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a883b1bd3b05e5c80499f65086e99219a">operator!=</a>(<span class="keyword">const</span> QueryWithEntityIterator&amp; other) <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == other); }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Returns iterator to the beginning.</span></div>
<div class="line"><span class="comment">   * @return Copy of this iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] QueryWithEntityIterator <a id="a36" name="a36"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a6ced68236dd203d32677e653c29a58be">begin</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> *<span class="keyword">this</span>; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Returns iterator to the end.</span></div>
<div class="line"><span class="comment">   * @return End iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] QueryWithEntityIterator <a id="a37" name="a37"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a29e5159b286fd90eef7bf75d0a4e9045">end</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">    <span class="keywordflow">return</span> {archetypes_, components_.get(), archetypes_.size(), 0};</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Advances iterator position to next valid entity.</span></div>
<div class="line"><span class="comment">   * @details Skips empty archetypes and moves to valid entity positions.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keywordtype">void</span> AdvanceToValidEntity();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if iterator has reached the end.</span></div>
<div class="line"><span class="comment">   * @return True if iterator is past the last valid entity, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> IsAtEnd() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> archetype_index_ &gt;= archetypes_.size(); }</div>
<div class="line"> </div>
<div class="line">  std::span&lt;const std::reference_wrapper&lt;const Archetype&gt;&gt; archetypes_;  <span class="comment">///&lt; Archetypes matching the query</span></div>
<div class="line">  std::reference_wrapper&lt;ComponentsType&gt; components_;                    <span class="comment">///&lt; Component manager for data access</span></div>
<div class="line">  <span class="keywordtype">size_t</span> archetype_index_ = 0;                                           <span class="comment">///&lt; Current archetype index</span></div>
<div class="line">  <span class="keywordtype">size_t</span> entity_index_ = 0;                                              <span class="comment">///&lt; Current entity index within archetype</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><a id="a38" name="a38"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#af3798dd5d4d646a1d7e727ccd03c27bb">QueryIterator&lt;Components...&gt;::QueryIterator</a>(std::span&lt;<span class="keyword">const</span> std::reference_wrapper&lt;const Archetype&gt;&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>,</div>
<div class="line">                                            ComponentsType&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a>, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a>)</div>
<div class="line">    : archetypes_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>), components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>), archetype_index_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a>), entity_index_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a>) {</div>
<div class="line">  AdvanceToValidEntity();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aba64bef91700159f502205cd96869ac8">QueryIterator&lt;Components...&gt;::operator++</a>() -&gt; QueryIterator&amp; {</div>
<div class="line">  ++entity_index_;</div>
<div class="line">  AdvanceToValidEntity();</div>
<div class="line">  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aba64bef91700159f502205cd96869ac8">QueryIterator&lt;Components...&gt;::operator++</a>(<span class="keywordtype">int</span>) -&gt; QueryIterator {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a> = *<span class="keyword">this</span>;</div>
<div class="line">  ++(*this);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac3e4175413a8a18a7f0fc7492fd1a239">QueryIterator&lt;Components...&gt;::operator--</a>() -&gt; QueryIterator&amp; {</div>
<div class="line">  <span class="comment">// If at end or beginning of current archetype, need to go back</span></div>
<div class="line">  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (entity_index_ &gt; 0) {</div>
<div class="line">      --entity_index_;</div>
<div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Need to move to previous archetype</span></div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ == 0) {</div>
<div class="line">      <span class="comment">// Already at beginning, can&#39;t go back further</span></div>
<div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    --archetype_index_;</div>
<div class="line">    <span class="comment">// Move to last entity in previous archetype</span></div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ &lt; archetypes_.size()) {</div>
<div class="line">      entity_index_ = archetypes_[archetype_index_].get().EntityCount();</div>
<div class="line">      <span class="keywordflow">if</span> (entity_index_ &gt; 0) {</div>
<div class="line">        --entity_index_;</div>
<div class="line">        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac3e4175413a8a18a7f0fc7492fd1a239">QueryIterator&lt;Components...&gt;::operator--</a>(<span class="keywordtype">int</span>) -&gt; QueryIterator {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a> = *<span class="keyword">this</span>;</div>
<div class="line">  --(*this);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac7b01c26e2e3b696741201cf44fec6a4">QueryIterator&lt;Components...&gt;::operator*</a>() <span class="keyword">const</span> -&gt; value_type {</div>
<div class="line">  <a id="a39" name="a39"></a><a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(!IsAtEnd(), <span class="stringliteral">&quot;Cannot dereference end iterator!&quot;</span>);</div>
<div class="line">  <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(archetype_index_ &lt; archetypes_.size(), <span class="stringliteral">&quot;Archetype index out of bounds!&quot;</span>);</div>
<div class="line">  <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(entity_index_ &lt; archetypes_[archetype_index_].<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">get</a>().Entities().size(), <span class="stringliteral">&quot;Entity index out of bounds!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a> = archetypes_[archetype_index_].get();</div>
<div class="line">  <span class="keyword">const</span> Entity entity = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a>.Entities()[entity_index_];</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> {[&amp;]&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentType</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeExtractor_t&lt;Components&gt;</a>&gt;() -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentAccessType&lt;Components&gt;</a> {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentAccessType&lt;Components&gt;</a><span class="keyword">&gt;</span>(components_.get().template <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">GetComponent&lt;ComponentType&gt;</a>(entity));</div>
<div class="line">  }()...};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> QueryIterator&lt;Components...&gt;::AdvanceToValidEntity() {</div>
<div class="line">  <span class="keywordflow">while</span> (!IsAtEnd()) {</div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ &lt; archetypes_.size() &amp;&amp;</div>
<div class="line">        entity_index_ &lt; archetypes_[archetype_index_].get().Entities().size()) {</div>
<div class="line">      <span class="comment">// Found valid entity</span></div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Move to next archetype</span></div>
<div class="line">    ++archetype_index_;</div>
<div class="line">    entity_index_ = 0;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><a id="a40" name="a40"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a0cd4c1f2c3c70dee9297c9d7699cd4bc">QueryWithEntityIterator&lt;Components...&gt;::QueryWithEntityIterator</a>(</div>
<div class="line">    std::span&lt;<span class="keyword">const</span> std::reference_wrapper&lt;const Archetype&gt;&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>, ComponentsType&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>,</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a>, <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a>)</div>
<div class="line">    : archetypes_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetypes</a>), components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>), archetype_index_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_index</a>), entity_index_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">entity_index</a>) {</div>
<div class="line">  AdvanceToValidEntity();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aebeddc2e54315808bebebe8ecdda438a">QueryWithEntityIterator&lt;Components...&gt;::operator++</a>() -&gt; QueryWithEntityIterator&amp; {</div>
<div class="line">  ++entity_index_;</div>
<div class="line">  AdvanceToValidEntity();</div>
<div class="line">  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aebeddc2e54315808bebebe8ecdda438a">QueryWithEntityIterator&lt;Components...&gt;::operator++</a>(<span class="keywordtype">int</span>) -&gt; QueryWithEntityIterator {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a> = *<span class="keyword">this</span>;</div>
<div class="line">  ++(*this);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ae284f4ac913e0456160fb63d4d66c77f">QueryWithEntityIterator&lt;Components...&gt;::operator--</a>() -&gt; QueryWithEntityIterator&amp; {</div>
<div class="line">  <span class="comment">// If at end or beginning of current archetype, need to go back</span></div>
<div class="line">  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (entity_index_ &gt; 0) {</div>
<div class="line">      --entity_index_;</div>
<div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Need to move to previous archetype</span></div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ == 0) {</div>
<div class="line">      <span class="comment">// Already at beginning, can&#39;t go back further</span></div>
<div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    --archetype_index_;</div>
<div class="line">    <span class="comment">// Move to last entity in previous archetype</span></div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ &lt; archetypes_.size()) {</div>
<div class="line">      entity_index_ = archetypes_[archetype_index_].get().EntityCount();</div>
<div class="line">      <span class="keywordflow">if</span> (entity_index_ &gt; 0) {</div>
<div class="line">        --entity_index_;</div>
<div class="line">        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ae284f4ac913e0456160fb63d4d66c77f">QueryWithEntityIterator&lt;Components...&gt;::operator--</a>(<span class="keywordtype">int</span>) -&gt; QueryWithEntityIterator {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a> = *<span class="keyword">this</span>;</div>
<div class="line">  --(*this);</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">copy</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ac19e493498a93f3488512806b6ef8256">QueryWithEntityIterator&lt;Components...&gt;::operator*</a>() <span class="keyword">const</span> -&gt; value_type {</div>
<div class="line">  <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(!IsAtEnd(), <span class="stringliteral">&quot;Cannot dereference end iterator!&quot;</span>);</div>
<div class="line">  <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(archetype_index_ &lt; archetypes_.size(), <span class="stringliteral">&quot;Archetype index out of bounds!&quot;</span>);</div>
<div class="line">  <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(entity_index_ &lt; archetypes_[archetype_index_].<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">get</a>().Entities().size(), <span class="stringliteral">&quot;Entity index out of bounds!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a> = archetypes_[archetype_index_].get();</div>
<div class="line">  <span class="keyword">const</span> Entity entity = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a>.Entities()[entity_index_];</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> {entity,</div>
<div class="line">          [&amp;]&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentType</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeExtractor_t&lt;Components&gt;</a>&gt;() -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentAccessType&lt;Components&gt;</a> {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentAccessType&lt;Components&gt;</a><span class="keyword">&gt;</span>(</div>
<div class="line">                components_.get().template <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">GetComponent&lt;ComponentType&gt;</a>(entity));</div>
<div class="line">          }()...};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> QueryWithEntityIterator&lt;Components...&gt;::AdvanceToValidEntity() {</div>
<div class="line">  <span class="keywordflow">while</span> (!IsAtEnd()) {</div>
<div class="line">    <span class="keywordflow">if</span> (archetype_index_ &lt; archetypes_.size() &amp;&amp;</div>
<div class="line">        entity_index_ &lt; archetypes_[archetype_index_].get().Entities().size()) {</div>
<div class="line">      <span class="comment">// Found valid entity</span></div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Move to next archetype</span></div>
<div class="line">    ++archetype_index_;</div>
<div class="line">    entity_index_ = 0;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace details</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Forward declarations</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>BasicQuery;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>BasicQueryWithEntity;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Wrapper for queries that include entity in iteration.</span></div>
<div class="line"><span class="comment"> * @details Provides iteration interface that returns both entity and components.</span></div>
<div class="line"><span class="comment"> * Supports const-qualified component access for read-only operations.</span></div>
<div class="line"><span class="comment"> * @note Not thread-safe.</span></div>
<div class="line"><span class="comment"> * @tparam WorldT World type (World or const World), must satisfy WorldType concept</span></div>
<div class="line"><span class="comment"> * @tparam Allocator Allocator type for internal storage</span></div>
<div class="line"><span class="comment"> * @tparam Components Requested component access types (may include const qualifiers)</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>BasicQueryWithEntity {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">using </span><a id="a41" name="a41"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a213250a0fabcd0571fa16abd946cd3e3">iterator</a> = details::QueryWithEntityIterator&lt;Components...&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a42" name="a42"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ad05fbec65f5c026f80cf22969bd4019a">value_type</a> = std::iter_value_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a43" name="a43"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7d4754823d5114bfc9ce93860f1af704">difference_type</a> = std::iter_difference_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a44" name="a44"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7672dcf569f3f7493e6286da7f705972">pointer</a> = <span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1d33ef80905a391e96631c4430634b83">iterator::pointer</a>;</div>
<div class="line">  <span class="keyword">using </span><a id="a45" name="a45"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a8bc7762e5af7b271560ee327000e1433">reference</a> = std::iter_reference_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a46" name="a46"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa9c186d092dbc9ec8e74efa9363c2e9a">allocator_type</a> = Allocator;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs entity-aware query wrapper.</span></div>
<div class="line"><span class="comment">   * @param query Reference to the underlying query</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">explicit</span> BasicQueryWithEntity(BasicQuery&lt;WorldT, Allocator, Components...&gt;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">query</a>) <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">noexcept</a> : query_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">query</a>) {}</div>
<div class="line">  BasicQueryWithEntity(<span class="keyword">const</span> BasicQueryWithEntity&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQueryWithEntity(BasicQueryWithEntity&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  <a id="a47" name="a47"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aeec66e082a98ed4c96afdb2ec7bae782">~BasicQueryWithEntity</a>() <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  BasicQueryWithEntity&amp; <a id="a48" name="a48"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ad6d436187f99bd324f3247fb9a0e8fbb">operator=</a>(<span class="keyword">const</span> BasicQueryWithEntity&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQueryWithEntity&amp; <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ad6d436187f99bd324f3247fb9a0e8fbb">operator=</a>(BasicQueryWithEntity&amp;&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all results into a vector.</span></div>
<div class="line"><span class="comment">   * @return Vector of tuples containing entity and components</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto all_results = query.WithEntity().Collect();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a49" name="a49"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aba93be6efd86074addb34b524b98319b">Collect</a>() <span class="keyword">const</span> -&gt; std::vector&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all results into a vector using a custom allocator.</span></div>
<div class="line"><span class="comment">   * @details Eagerly evaluates the query and returns all matching results using the provided allocator.</span></div>
<div class="line"><span class="comment">   * Useful for temporary allocations with frame allocators.</span></div>
<div class="line"><span class="comment">   * @warning When using a frame allocator (via SystemContext::MakeFrameAllocator()),</span></div>
<div class="line"><span class="comment">   * the returned data is only valid for the current frame. All pointers and references</span></div>
<div class="line"><span class="comment">   * to frame-allocated data become invalid after the frame ends.</span></div>
<div class="line"><span class="comment">   * Do not store frame-allocated data in components, resources, or any persistent storage.</span></div>
<div class="line"><span class="comment">   * @tparam ResultAlloc STL-compatible allocator type for value_type</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator instance to use for the result vector</span></div>
<div class="line"><span class="comment">   * @return Vector of tuples containing entity and components, using the provided allocator</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * void MySystem::Update(app::SystemContext&amp; ctx) {</span></div>
<div class="line"><span class="comment">   *   auto query = ctx.Query().Get&lt;Position&amp;&gt;();</span></div>
<div class="line"><span class="comment">   *   auto alloc = ctx.MakeFrameAllocator&lt;decltype(query)::value_type&gt;();</span></div>
<div class="line"><span class="comment">   *   auto results = query.WithEntity().CollectWith(alloc);</span></div>
<div class="line"><span class="comment">   *   // WARNING: Do not store &#39;results&#39; or pointers to its contents beyond this frame!</span></div>
<div class="line"><span class="comment">   * }</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">    <span class="keyword">requires</span> std::same_as&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">ResultAlloc::value_type</a>,</div>
<div class="line">                          std::iter_value_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a50" name="a50"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a41d45e69210b60ea2c58c747986bda59">CollectWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span> -&gt; std::vector&lt;value_type, ResultAlloc&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all entities into a vector.</span></div>
<div class="line"><span class="comment">   * @return Vector of Entity objects</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * std::vector&lt;Entity&gt; all_entities = query.WithEntity().CollectEntities();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a51" name="a51"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a64e8fb8b9687ba60974c39414f8891ac">CollectEntities</a>() <span class="keyword">const</span> -&gt; std::vector&lt;Entity&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all entities into a vector using a custom allocator.</span></div>
<div class="line"><span class="comment">   * @warning When using a frame allocator (via SystemContext::MakeFrameAllocator()),</span></div>
<div class="line"><span class="comment">   * the returned data is only valid for the current frame. All pointers and references</span></div>
<div class="line"><span class="comment">   * to frame-allocated data become invalid after the frame ends.</span></div>
<div class="line"><span class="comment">   * Do not store frame-allocated data in components, resources, or any persistent storage.</span></div>
<div class="line"><span class="comment">   * @tparam ResultAlloc STL-compatible allocator type for Entity</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator instance to use for the result vector</span></div>
<div class="line"><span class="comment">   * @return Vector of Entity objects using the provided allocator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">    <span class="keyword">requires</span> std::same_as&lt;typename ResultAlloc::value_type, Entity&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a52" name="a52"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a3d87a3a8b15fb421a5884863deb8530b">CollectEntitiesWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span> -&gt; std::vector&lt;Entity, ResultAlloc&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Writes all query results into an output iterator.</span></div>
<div class="line"><span class="comment">   * @details Terminal operation that writes each (entity, components...) tuple to the provided output iterator.</span></div>
<div class="line"><span class="comment">   * More efficient than Collect() when you have a destination container.</span></div>
<div class="line"><span class="comment">   * @tparam OutIt Output iterator type</span></div>
<div class="line"><span class="comment">   * @param out Output iterator</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * std::vector&lt;std::tuple&lt;Entity, const Position&amp;, Health&amp;&gt;&gt; results;</span></div>
<div class="line"><span class="comment">   * query.Into(std::back_inserter(results));</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OutIt&gt;</div>
<div class="line">    <span class="keyword">requires</span> std::output_iterator&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a>, std::iter_value_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a id="a53" name="a53"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa5d95df7632f39a1135219c0151bcf41">Into</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Executes an action for each matching entity and components.</span></div>
<div class="line"><span class="comment">   * @details Convenience method for side-effect operations.</span></div>
<div class="line"><span class="comment">   * @tparam Action Function type (Entity, Components...) -&gt; void</span></div>
<div class="line"><span class="comment">   * @param action Function to execute for each result</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .ForEach([](Entity entity, Health&amp; health) { health.Regenerate(1.0F); });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a id="a54" name="a54"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a26d0bfed186f6404d133afa231e7cc80">ForEach</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Calculates the maximum value using a key function.</span></div>
<div class="line"><span class="comment">   * @details Finds the element that produces the maximum value when passed to the key function.</span></div>
<div class="line"><span class="comment">   * @tparam KeyFunc Function type (Entity, Components...) -&gt; Comparable</span></div>
<div class="line"><span class="comment">   * @param key_func Function to extract the comparison value</span></div>
<div class="line"><span class="comment">   * @return Optional containing the element with maximum key, or empty if query is empty</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto strongest = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .MaxBy([](Entity e, const Stats&amp; s) { return s.strength; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a55" name="a55"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a97f1582f0ea79a3c47e5bb7135d66eb3">MaxBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span> -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Calculates the minimum value using a key function.</span></div>
<div class="line"><span class="comment">   * @details Finds the element that produces the minimum value when passed to the key function.</span></div>
<div class="line"><span class="comment">   * @tparam KeyFunc Function type (Entity, Components...) -&gt; Comparable</span></div>
<div class="line"><span class="comment">   * @param key_func Function to extract the comparison value</span></div>
<div class="line"><span class="comment">   * @return Optional containing the element with minimum key, or empty if query is empty</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto weakest = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .MinBy([](Entity e, const Stats&amp; s) { return s.strength; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a56" name="a56"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ab44e72f4411e116eaca5e31977ac8adc">MinBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span> -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Filters entities based on a predicate.</span></div>
<div class="line"><span class="comment">   * @details Lazily filters the query results, only yielding elements that satisfy the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields only matching elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto low_health = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .Filter([](Entity e, const Health&amp; h) { return h.current &lt; 20.0F; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a57" name="a57"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a60e79098067a960a04e81b47ccb5da4f">Filter</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::FilterAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Transforms each element using a mapping function.</span></div>
<div class="line"><span class="comment">   * @details Lazily transforms query results by applying a function to each element.</span></div>
<div class="line"><span class="comment">   * @tparam Func Transformation function type (Entity, Components...) -&gt; U</span></div>
<div class="line"><span class="comment">   * @param transform Function to transform each result</span></div>
<div class="line"><span class="comment">   * @return View that yields transformed elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto positions = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .Map([](Entity e, const Transform&amp; t) { return t.position; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;Func, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a58" name="a58"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5f29a11d740a060c5913dba5a239bf98">Map</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>) <span class="keyword">const</span>&amp; -&gt; utils::MapAdapter&lt;iterator, Func&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes only the first N elements.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields at most N elements from the query results.</span></div>
<div class="line"><span class="comment">   * @param count Maximum number of elements to take</span></div>
<div class="line"><span class="comment">   * @return View that yields at most count elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto first_five = query.WithEntity().Take(5);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a59" name="a59"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#afecf94b214053b8cd835443db89f7df2">Take</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Skips the first N elements.</span></div>
<div class="line"><span class="comment">   * @details Lazily skips the first N elements and yields the rest.</span></div>
<div class="line"><span class="comment">   * @param count Number of elements to skip</span></div>
<div class="line"><span class="comment">   * @return View that yields elements after skipping count elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto after_ten = query.WithEntity().Skip(10);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a60" name="a60"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5436692bf64f7220459a13762aada489">Skip</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes elements while a predicate is true.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields elements until the predicate returns false.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields elements while predicate is true</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto while_healthy = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .TakeWhile([](Entity e, const Health&amp; h) { return !h.IsDead(); });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a61" name="a61"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a47759f750af2374c9ee5b425aedc59be">TakeWhile</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeWhileAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Skips elements while a predicate is true.</span></div>
<div class="line"><span class="comment">   * @details Lazily skips elements until the predicate returns false, then yields the rest.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields elements after predicate becomes false</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto after_full_health = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .SkipWhile([](Entity e, const Health&amp; h) { return h.current == h.max; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a62" name="a62"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a614ea8b640c4bb923ac4f2085d6dc282">SkipWhile</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipWhileAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Adds an index to each element.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields tuples with an index followed by the original elements.</span></div>
<div class="line"><span class="comment">   * @return View that yields (index, entity, components...) tuples</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * for (auto [idx, entity, health] : query.WithEntity().Enumerate()) {</span></div>
<div class="line"><span class="comment">   *   // idx is 0, 1, 2, ...</span></div>
<div class="line"><span class="comment">   * }</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a63" name="a63"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a660daef31bbc0dd28f520ba98bcde358">Enumerate</a>() <span class="keyword">const</span>&amp; -&gt; utils::EnumerateAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Inspects each element without consuming it.</span></div>
<div class="line"><span class="comment">   * @details Calls a function on each element for side effects, then passes it through.</span></div>
<div class="line"><span class="comment">   * @tparam Func Inspection function type (Entity, Components...) -&gt; void</span></div>
<div class="line"><span class="comment">   * @param inspector Function to call on each result</span></div>
<div class="line"><span class="comment">   * @return View that yields the same elements after inspection</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto result = query.WithEntity()</span></div>
<div class="line"><span class="comment">   *   .Inspect([](Entity e, const Health&amp; h) {</span></div>
<div class="line"><span class="comment">   *     std::cout &lt;&lt; &quot;Entity &quot; &lt;&lt; e.Index() &lt;&lt; &quot; health: &quot; &lt;&lt; h.current &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><span class="comment">   *   })</span></div>
<div class="line"><span class="comment">   *   .Collect();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::InspectorFor&lt;Func, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a64" name="a64"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aac9b10f4691b6a419ff0feb217a15083">Inspect</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>) <span class="keyword">const</span>&amp; -&gt; utils::InspectAdapter&lt;iterator, Func&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Yields every Nth element.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields elements at regular intervals.</span></div>
<div class="line"><span class="comment">   * @param step Interval between yielded elements (must be &gt; 0)</span></div>
<div class="line"><span class="comment">   * @return View that yields every step-th element</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto every_third = query.WithEntity().StepBy(3);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a65" name="a65"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a52ebf0a1e9d24ceef6792374128d6ea1">StepBy</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>) <span class="keyword">const</span>&amp; -&gt; utils::StepByAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Reverses the order of iteration.</span></div>
<div class="line"><span class="comment">   * @details Iterates through query results in reverse order.</span></div>
<div class="line"><span class="comment">   * @return View that yields elements in reverse order</span></div>
<div class="line"><span class="comment">   * @note Requires bidirectional iterator support</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto reversed = query.WithEntity().Reverse();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a66" name="a66"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a6d903406acd43f87509c6616f2866387">Reverse</a>() <span class="keyword">const</span>&amp; -&gt; utils::ReverseAdapter&lt;iterator&gt; { <span class="keywordflow">return</span> {<a id="a67" name="a67"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">begin</a>(), <a id="a68" name="a68"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">end</a>()}; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Creates sliding windows over query results.</span></div>
<div class="line"><span class="comment">   * @details Yields overlapping windows of a fixed size.</span></div>
<div class="line"><span class="comment">   * @param window_size Size of the sliding window</span></div>
<div class="line"><span class="comment">   * @return View that yields windows of elements</span></div>
<div class="line"><span class="comment">   * @warning window_size must be greater than 0</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto windows = query.WithEntity().Slide(3);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a69" name="a69"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7cd6a46c64bd4f8bf6554cd7a0e3c7c3">Slide</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">window_size</a>) <span class="keyword">const</span>&amp; -&gt; utils::SlideAdapter&lt;iterator&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">end</a>(), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">window_size</a>};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes every Nth element from the query results.</span></div>
<div class="line"><span class="comment">   * @details Yields elements at regular stride intervals.</span></div>
<div class="line"><span class="comment">   * @param stride Number of elements to skip between yields</span></div>
<div class="line"><span class="comment">   * @return View that yields every Nth element</span></div>
<div class="line"><span class="comment">   * @warning stride must be greater than 0</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto every_third = query.WithEntity().Stride(3);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a70" name="a70"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7cf14fab09f70a94b11ae99ba8116f6d">Stride</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">stride</a>) <span class="keyword">const</span>&amp; -&gt; utils::StrideAdapter&lt;iterator&gt; { <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">end</a>(), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">stride</a>}; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Zips this query with another iterator.</span></div>
<div class="line"><span class="comment">   * @details Combines query results with another range into tuples.</span></div>
<div class="line"><span class="comment">   * @tparam OtherIter Iterator type to zip with</span></div>
<div class="line"><span class="comment">   * @param other_begin Beginning of the other range</span></div>
<div class="line"><span class="comment">   * @param other_end End of the other range</span></div>
<div class="line"><span class="comment">   * @return View that yields tuples of corresponding elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * std::vector&lt;int&gt; scores = {1, 2, 3};</span></div>
<div class="line"><span class="comment">   * auto zipped = query.WithEntity().Zip(scores.begin(), scores.end());</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OtherIter&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::IteratorLike&lt;OtherIter&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a71" name="a71"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#addb21655e94949a41f4952e4ffd10d6f">Zip</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OtherIter</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_begin</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OtherIter</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_end</a>) <span class="keyword">const</span>&amp; -&gt; utils::ZipAdapter&lt;iterator, OtherIter&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">end</a>(), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_begin</a>), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_end</a>)};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if any entity matches the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if at least one result matches, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool has_low_health = query.WithEntity().Any([](Entity entity, const Health&amp; health) {</span></div>
<div class="line"><span class="comment">   *   return health.current &lt; 10.0F;</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a72" name="a72"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa1367acf2674c304491a6b91b5405453">Any</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <a id="a73" name="a73"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a68918b3975cad2ba1fe09f4e2e85a176">FindFirst</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>).has_value();</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if all entities match the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if all results match, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool all_alive = query.WithEntity().All([](Entity entity, const Health&amp; health) {</span></div>
<div class="line"><span class="comment">   *   return !health.IsDead();</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a74" name="a74"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a791ff89b8d545665b7b9ad6480a25e6d">All</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if no entities match the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if no results match, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool not_dead = query.WithEntity().None([](Entity entity, const Health&amp; health) {</span></div>
<div class="line"><span class="comment">   *   return health.IsDead();</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a75" name="a75"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#adf06dfa95fc29c87da9208d31b674d08">None</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> !<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa1367acf2674c304491a6b91b5405453">Any</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>);</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Finds the first entity matching a predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Optional containing the first matching tuple, or empty if none found</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto boss = query.WithEntity().FindFirst([](Entity entity, const Enemy&amp; enemy) {</span></div>
<div class="line"><span class="comment">   *   return enemy.type == EnemyType::Boss;</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a68918b3975cad2ba1fe09f4e2e85a176">FindFirst</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Counts entities matching a predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Number of matching entities</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * size_t low_health_count = query.WithEntity().CountIf(</span></div>
<div class="line"><span class="comment">   *   [](Entity entity, const Health&amp; health) { return health.current &lt; 20.0F; }</span></div>
<div class="line"><span class="comment">   * );</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">size_t</span> <a id="a76" name="a76"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#abb8fb6ed4fd85805ad03a663d9cd7fc8">CountIf</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Partitions entities into two groups based on a predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate type (Entity, Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Pair of vectors: first contains entities matching predicate, second contains non-matching</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto [alive, dead] = query.WithEntity().Partition(</span></div>
<div class="line"><span class="comment">   *   [](Entity entity, const Health&amp; health) { return !health.IsDead(); }</span></div>
<div class="line"><span class="comment">   * );</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a77" name="a77"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7d66edcf99ce30894b39d6fa2d1aea04">Partition</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) -&gt; std::pair&lt;std::vector&lt;Entity&gt;, std::vector&lt;Entity&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Groups entities by a key extracted from components.</span></div>
<div class="line"><span class="comment">   * @tparam KeyExtractor Function type (Entity, Components...) -&gt; Key</span></div>
<div class="line"><span class="comment">   * @param key_extractor Function that extracts the grouping key</span></div>
<div class="line"><span class="comment">   * @return Map from keys to vectors of entities with that key</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto by_team = query.WithEntity().GroupBy(</span></div>
<div class="line"><span class="comment">   *   [](Entity entity, const Team&amp; team) { return team.id; }</span></div>
<div class="line"><span class="comment">   * );</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyExtractor&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;KeyExtractor, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a78" name="a78"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a241404052488891d1697ec4923d8bc75">GroupBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyExtractor</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_extractor</a>)</div>
<div class="line">      -&gt; std::unordered_map&lt;std::invoke_result_t&lt;KeyExtractor, Entity, details::ComponentAccessType&lt;Components&gt;...&gt;,</div>
<div class="line">                            std::vector&lt;Entity&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets iterator to first matching entity and components.</span></div>
<div class="line"><span class="comment">   * @return Iterator pointing to first result</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a213250a0fabcd0571fa16abd946cd3e3">iterator</a> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">begin</a>() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets iterator past the last matching entity.</span></div>
<div class="line"><span class="comment">   * @return End iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a213250a0fabcd0571fa16abd946cd3e3">iterator</a> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">end</a>() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  BasicQuery&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, Components...&gt;&amp; query_;  <span class="comment">///&lt; Reference to underlying query</span></div>
<div class="line">};</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Query result object for iterating over matching entities and components.</span></div>
<div class="line"><span class="comment"> * @details BasicQuery provides iteration and functional operations over entities</span></div>
<div class="line"><span class="comment"> * matching specified component criteria.</span></div>
<div class="line"><span class="comment"> * Supports const-qualified component access for read-only operations and custom allocators for internal storage.</span></div>
<div class="line"><span class="comment"> * @note Not thread-safe.</span></div>
<div class="line"><span class="comment"> * @tparam WorldT World type (World or const World), must satisfy WorldType concept</span></div>
<div class="line"><span class="comment"> * @tparam Allocator Allocator type for internal storage</span></div>
<div class="line"><span class="comment"> * @tparam Components Requested component access types with optional const qualifiers</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @example</span></div>
<div class="line"><span class="comment"> * @code</span></div>
<div class="line"><span class="comment"> * // Mutable access to both components</span></div>
<div class="line"><span class="comment"> * auto query = QueryBuilder(world).Get&lt;Position&amp;, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * // Const access to Position, mutable access to Velocity</span></div>
<div class="line"><span class="comment"> * auto query = QueryBuilder(world).Get&lt;const Position&amp;, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * // Copy Position, mutable access to Velocity</span></div>
<div class="line"><span class="comment"> * auto query = QueryBuilder(world).Get&lt;Position, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment"> * @endcode</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">class </span>BasicQuery {</div>
<div class="line"><span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /// Components manager type based on whether all components are const-qualified</span></div>
<div class="line"><span class="comment"></span>  <span class="keyword">using </span><a id="a79" name="a79"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a1595ecd403db2ba82996e170f1c7f083">ComponentsType</a> =</div>
<div class="line">      std::conditional_t&lt;<a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">details::AllComponentsConst</a>&lt;Components...&gt;, <span class="keyword">const</span> details::Components, details::Components&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using </span><a id="a80" name="a80"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a80ff0b97ee2dbc789899b9c17bfc1684">WithEntityIterator</a> = details::QueryWithEntityIterator&lt;Components...&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using </span><a id="a81" name="a81"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a3cb8e6b0198c62e79a25515821418fb0">iterator</a> = details::QueryIterator&lt;Components...&gt;;</div>
<div class="line">  <span class="keyword">using </span><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">value_type</a> = std::iter_value_t&lt;details::QueryIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a82" name="a82"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a307b6039841cf80b0e38f095eefd92d5">difference_type</a> = std::iter_difference_t&lt;details::QueryIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a83" name="a83"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a7874c3c051e8e935efdf35d30b56bbd2">pointer</a> = <span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a306dff52a2088437f2bedd1598cb57a6">iterator::pointer</a>;</div>
<div class="line">  <span class="keyword">using </span><a id="a84" name="a84"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#aaab526607cb7332f260b157a11d6a05f">reference</a> = std::iter_reference_t&lt;details::QueryIterator&lt;Components...&gt;&gt;;</div>
<div class="line">  <span class="keyword">using </span><a id="a85" name="a85"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab4990adc25ab53f74f4aa683bbf96cc5">allocator_type</a> = Allocator;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /// Rebind allocator for archetype references</span></div>
<div class="line"><span class="comment"></span>  <span class="keyword">using </span><a id="a86" name="a86"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#aa215768ac4c8d215de59b80496a632bf">ArchetypeAllocator</a> = <span class="keyword">typename</span> std::allocator_traits&lt;Allocator&gt;::template <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">rebind_alloc</a>&lt;</div>
<div class="line">      std::reference_wrapper&lt;const details::Archetype&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs query with specified filtering criteria.</span></div>
<div class="line"><span class="comment">   * @details Creates query that matches entities with required components and without forbidden ones.</span></div>
<div class="line"><span class="comment">   * @param world Reference to ECS world</span></div>
<div class="line"><span class="comment">   * @param with_components Component types that entities must have</span></div>
<div class="line"><span class="comment">   * @param without_components Component types that entities must not have</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator instance for internal storage</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  BasicQuery(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>, std::vector&lt;ComponentTypeId, Allocator&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">with_components</a>,</div>
<div class="line">             std::vector&lt;ComponentTypeId, Allocator&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">without_components</a> = {}, Allocator <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a> = {});</div>
<div class="line"> </div>
<div class="line">  BasicQuery(<span class="keyword">const</span> BasicQuery&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQuery(BasicQuery&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  <a id="a87" name="a87"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#af92eeec980880dc9fc76ff7ad2736363">~BasicQuery</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  BasicQuery&amp; <a id="a88" name="a88"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa4d4a48fb933f073a03cfc360c85a012">operator=</a>(<span class="keyword">const</span> BasicQuery&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQuery&amp; <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa4d4a48fb933f073a03cfc360c85a012">operator=</a>(BasicQuery&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Creates wrapper for entity-aware iteration.</span></div>
<div class="line"><span class="comment">   * @details Returns a wrapper that provides iterators returning entity + components.</span></div>
<div class="line"><span class="comment">   * @note Only callable on lvalue queries to prevent dangling references.</span></div>
<div class="line"><span class="comment">   * @warning Calling on rvalue query results in undefined behavior. Create a named query variable first.</span></div>
<div class="line"><span class="comment">   * @return BasicQueryWithEntity wrapper for this query</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a89" name="a89"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a2f08d10389ab211aa2fb6ba1aa0cb660">WithEntity</a>() &amp; <span class="keyword">noexcept</span> -&gt; BasicQueryWithEntity&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, Components...&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> BasicQueryWithEntity&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, Components...&gt;(*this);</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all results into a vector.</span></div>
<div class="line"><span class="comment">   * @details Eagerly evaluates the query and returns all matching results.</span></div>
<div class="line"><span class="comment">   * @return Vector of tuples containing components</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto all_results = query.Collect();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a90" name="a90"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae0198df619d902b8be7fc9549f4058aa">Collect</a>() <span class="keyword">const</span> -&gt; std::vector&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Collects all results into a vector using a custom allocator.</span></div>
<div class="line"><span class="comment">   * @details Eagerly evaluates the query and returns all matching results using the provided allocator.</span></div>
<div class="line"><span class="comment">   * Useful for temporary allocations with frame allocators.</span></div>
<div class="line"><span class="comment">   * @warning When using a frame allocator (via SystemContext::MakeFrameAllocator()),</span></div>
<div class="line"><span class="comment">   * the returned data is only valid for the current frame.</span></div>
<div class="line"><span class="comment">   * All pointers and references to frame-allocated data become invalid after the frame ends.</span></div>
<div class="line"><span class="comment">   * Do not store frame-allocated data in components, resources, or any persistent storage.</span></div>
<div class="line"><span class="comment">   * @tparam ResultAlloc STL-compatible allocator type for value_type</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator instance to use for the result vector</span></div>
<div class="line"><span class="comment">   * @return Vector of tuples containing components, using the provided allocator</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * void MySystem::Update(app::SystemContext&amp; ctx) {</span></div>
<div class="line"><span class="comment">   *   auto query = ctx.Query().Get&lt;Position&amp;, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment">   *   auto alloc = ctx.MakeFrameAllocator&lt;decltype(query)::value_type&gt;();</span></div>
<div class="line"><span class="comment">   *   auto results = query.CollectWith(alloc);</span></div>
<div class="line"><span class="comment">   *   // results uses frame allocator, automatically reclaimed at frame end</span></div>
<div class="line"><span class="comment">   *   // WARNING: Do not store &#39;results&#39; or pointers to its contents beyond this frame!</span></div>
<div class="line"><span class="comment">   * }</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">    <span class="keyword">requires</span> std::same_as&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">ResultAlloc::value_type</a>, std::iter_value_t&lt;details::QueryIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a91" name="a91"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a92ab87639e1b038c0869a1b1ab4aaf86">CollectWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span> -&gt; std::vector&lt;value_type, ResultAlloc&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Writes all query results into an output iterator.</span></div>
<div class="line"><span class="comment">   * @details Terminal operation that writes each result tuple to the provided output iterator.</span></div>
<div class="line"><span class="comment">   * More efficient than Collect() when you have a destination container.</span></div>
<div class="line"><span class="comment">   * @tparam OutIt Output iterator type</span></div>
<div class="line"><span class="comment">   * @param out Output iterator</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * std::vector&lt;std::tuple&lt;const Position&amp;, Health&amp;&gt;&gt; results;</span></div>
<div class="line"><span class="comment">   * query.Into(std::back_inserter(results));</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OutIt&gt;</div>
<div class="line">    <span class="keyword">requires</span> std::output_iterator&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a>, std::iter_value_t&lt;details::QueryIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a id="a92" name="a92"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a16daec85c80a6fd62e5aa4c28756b64b">Into</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Executes an action for each matching entity and components.</span></div>
<div class="line"><span class="comment">   * @details Convenience method for side-effect operations.</span></div>
<div class="line"><span class="comment">   * @tparam Action Function type (Components...) -&gt; void</span></div>
<div class="line"><span class="comment">   * @param action Function to execute for each result</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * query.ForEach([](Position&amp; pos, const Velocity&amp; vel) {</span></div>
<div class="line"><span class="comment">   *   pos.x += vel.dx;</span></div>
<div class="line"><span class="comment">   *   pos.y += vel.dy;</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a id="a93" name="a93"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a366104a42e6ae53fdac3650c58174750">ForEach</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Executes an action for each entity and its components.</span></div>
<div class="line"><span class="comment">   * @details Variant that also provides the entity as the first argument.</span></div>
<div class="line"><span class="comment">   * @tparam Action Function type (Entity, Components...) -&gt; void</span></div>
<div class="line"><span class="comment">   * @param action Function to execute for each result</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * query.ForEachWithEntity([](Entity entity, Position&amp; pos) {</span></div>
<div class="line"><span class="comment">   *   HELIOS_INFO(&quot;Entity {} at ({}, {})&quot;, entity.Index(), pos.x, pos.y);</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a id="a94" name="a94"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a016dd9e4aac691afbdace775101908d8">ForEachWithEntity</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Filters entities based on a predicate.</span></div>
<div class="line"><span class="comment">   * @details Lazily filters the query results, only yielding elements that satisfy the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields only matching elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto moving = query.Filter([](const Position&amp;, const Velocity&amp; vel) {</span></div>
<div class="line"><span class="comment">   *   return vel.dx != 0.0F || vel.dy != 0.0F;</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a95" name="a95"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a1a26e42ac4bf59a270060b75e0777077">Filter</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::FilterAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Transforms each element using a mapping function.</span></div>
<div class="line"><span class="comment">   * @details Lazily transforms query results by applying a function to each element.</span></div>
<div class="line"><span class="comment">   * @tparam Func Transformation function type (Components...) -&gt; U</span></div>
<div class="line"><span class="comment">   * @param transform Function to transform each result</span></div>
<div class="line"><span class="comment">   * @return View that yields transformed elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto x_positions = query.Map([](const Position&amp; pos, const Velocity&amp;) {</span></div>
<div class="line"><span class="comment">   *   return pos.x;</span></div>
<div class="line"><span class="comment">   * });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;Func, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a96" name="a96"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a2d37c7f676edaf3063c222fec8d900be">Map</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>) <span class="keyword">const</span>&amp; -&gt; utils::MapAdapter&lt;iterator, Func&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes only the first N elements.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields at most N elements from the query results.</span></div>
<div class="line"><span class="comment">   * @param count Maximum number of elements to take</span></div>
<div class="line"><span class="comment">   * @return View that yields at most count elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto first_ten = query.Take(10);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a97" name="a97"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#acd7556401e11ec9f0091f9a54c5d3fec">Take</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Skips the first N elements.</span></div>
<div class="line"><span class="comment">   * @details Lazily skips the first N elements and yields the rest.</span></div>
<div class="line"><span class="comment">   * @param count Number of elements to skip</span></div>
<div class="line"><span class="comment">   * @return View that yields elements after skipping count elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto after_five = query.Skip(5);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a98" name="a98"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a24a40eed84e38bae9e088acb6246244e">Skip</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Reverses the order of iteration.</span></div>
<div class="line"><span class="comment">   * @details Iterates through query results in reverse order.</span></div>
<div class="line"><span class="comment">   * @return View that yields elements in reverse order</span></div>
<div class="line"><span class="comment">   * @note Requires bidirectional iterator support</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto reversed = query.Reverse();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a99" name="a99"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#af75348ea81612936915eef76a2b6355d">Reverse</a>() <span class="keyword">const</span>&amp; -&gt; utils::ReverseAdapter&lt;iterator&gt; { <span class="keywordflow">return</span> {<a id="a100" name="a100"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">begin</a>(), <a id="a101" name="a101"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">end</a>()}; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Creates sliding windows over query results.</span></div>
<div class="line"><span class="comment">   * @details Yields overlapping windows of a fixed size.</span></div>
<div class="line"><span class="comment">   * @param window_size Size of the sliding window</span></div>
<div class="line"><span class="comment">   * @return View that yields windows of elements</span></div>
<div class="line"><span class="comment">   * @warning window_size must be greater than 0</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto windows = query.Slide(3);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a102" name="a102"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8b919eb5244187ca7edd46a6563b8a5">Slide</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">window_size</a>) <span class="keyword">const</span>&amp; -&gt; utils::SlideAdapter&lt;iterator&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">end</a>(), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">window_size</a>};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes every Nth element from the query results.</span></div>
<div class="line"><span class="comment">   * @details Yields elements at regular stride intervals.</span></div>
<div class="line"><span class="comment">   * @param stride Number of elements to skip between yields</span></div>
<div class="line"><span class="comment">   * @return View that yields every Nth element</span></div>
<div class="line"><span class="comment">   * @warning stride must be greater than 0</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto every_third = query.Stride(3);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a103" name="a103"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#adadf46da1f1ba9894ec00bfd69498491">Stride</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">stride</a>) <span class="keyword">const</span>&amp; -&gt; utils::StrideAdapter&lt;iterator&gt; { <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">end</a>(), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">stride</a>}; }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Zips this query with another iterator.</span></div>
<div class="line"><span class="comment">   * @details Combines query results with another range into tuples.</span></div>
<div class="line"><span class="comment">   * @tparam OtherIter Iterator type to zip with</span></div>
<div class="line"><span class="comment">   * @param other_begin Beginning of the other range</span></div>
<div class="line"><span class="comment">   * @param other_end End of the other range</span></div>
<div class="line"><span class="comment">   * @return View that yields tuples of corresponding elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * std::vector&lt;int&gt; indices = {0, 1, 2};</span></div>
<div class="line"><span class="comment">   * auto zipped = query.Zip(indices.begin(), indices.end());</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> OtherIter&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::IteratorLike&lt;OtherIter&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a104" name="a104"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa866541da853fdd95121d0447d1e9192">Zip</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OtherIter</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_begin</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OtherIter</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_end</a>) <span class="keyword">const</span>&amp; -&gt; utils::ZipAdapter&lt;iterator, OtherIter&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> {<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">begin</a>(), <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">end</a>(), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_begin</a>), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">other_end</a>)};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Takes elements while a predicate is true.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields elements until the predicate returns false.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields elements while predicate is true</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto while_positive = query.TakeWhile([](const Health&amp; h) { return h.points &gt; 0; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a105" name="a105"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ace823cbc18cc0d0dd625d4994d49b40c">TakeWhile</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeWhileAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Skips elements while a predicate is true.</span></div>
<div class="line"><span class="comment">   * @details Lazily skips elements until the predicate returns false, then yields the rest.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return View that yields elements after predicate becomes false</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto after_full = query.SkipWhile([](const Health&amp; h) { return h.points == h.max; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a106" name="a106"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a4a5abdebef73a269b8f6a8102c14e9e0">SkipWhile</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipWhileAdapter&lt;iterator, Pred&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Adds an index to each element.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields tuples with an index followed by the original elements.</span></div>
<div class="line"><span class="comment">   * @return View that yields (index, components...) tuples</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * for (auto [idx, pos, vel] : query.Enumerate()) {</span></div>
<div class="line"><span class="comment">   *   // idx is 0, 1, 2, ...</span></div>
<div class="line"><span class="comment">   * }</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a107" name="a107"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a686d030fbdbacf6c2aea251c1c363a83">Enumerate</a>() <span class="keyword">const</span>&amp; -&gt; utils::EnumerateAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Inspects each element without consuming it.</span></div>
<div class="line"><span class="comment">   * @details Calls a function on each element for side effects, then passes it through.</span></div>
<div class="line"><span class="comment">   * @tparam Func Inspection function type (Components...) -&gt; void</span></div>
<div class="line"><span class="comment">   * @param inspector Function to call on each result</span></div>
<div class="line"><span class="comment">   * @return View that yields the same elements after inspection</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto result = query.Inspect([](const Position&amp; p) {</span></div>
<div class="line"><span class="comment">   *   std::cout &lt;&lt; &quot;Position: &quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><span class="comment">   * }).Collect();</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::InspectorFor&lt;Func, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a108" name="a108"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a53d5b0dedb1906531b7dd08dba1fef1c">Inspect</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>) <span class="keyword">const</span>&amp; -&gt; utils::InspectAdapter&lt;iterator, Func&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Yields every Nth element.</span></div>
<div class="line"><span class="comment">   * @details Lazily yields elements at regular intervals.</span></div>
<div class="line"><span class="comment">   * @param step Interval between yielded elements (must be &gt; 0)</span></div>
<div class="line"><span class="comment">   * @return View that yields every step-th element</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto every_other = query.StepBy(2);</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a109" name="a109"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a119bcf992ee60570d164684038182a77">StepBy</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>) <span class="keyword">const</span>&amp; -&gt; utils::StepByAdapter&lt;iterator&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if any element matches the predicate.</span></div>
<div class="line"><span class="comment">   * @details Short-circuits on first match for efficiency.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if at least one result matches, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool has_low_health = query.Any([](const Health&amp; h) { return h.current &lt; 10.0F; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a110" name="a110"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae999e46ac7ee360cb2d90c539e429d6b">Any</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> <a id="a111" name="a111"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a30ad8954186a06cb0535803a9eaebeca">FindFirst</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>).has_value();</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if all elements match the predicate.</span></div>
<div class="line"><span class="comment">   * @details Short-circuits on first non-match for efficiency.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if all results match, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool all_alive = query.All([](const Health&amp; h) { return !h.IsDead(); });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a112" name="a112"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a3b1b4ccd46baaeb787de0869a47f582b">All</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if no elements match the predicate.</span></div>
<div class="line"><span class="comment">   * @details Short-circuits on first match for efficiency.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return True if no results match, false otherwise</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * bool none_dead = query.None([](const Health&amp; h) { return h.IsDead(); });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a113" name="a113"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a291d234b147b116951ef83af6af25e00">None</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> !<a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae999e46ac7ee360cb2d90c539e429d6b">Any</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>);</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Counts elements matching a predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Number of matching elements</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * size_t low_health_count = query.CountIf([](const Health&amp; h) { return h.current &lt; 20.0F; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">size_t</span> <a id="a114" name="a114"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ad729c5144cf31fc89ba718f540f3f818">CountIf</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Folds the query results into a single value.</span></div>
<div class="line"><span class="comment">   * @details Applies a binary function to an initial value and each result.</span></div>
<div class="line"><span class="comment">   * @tparam T Accumulator type</span></div>
<div class="line"><span class="comment">   * @tparam Func Function type (T, Components...) -&gt; T</span></div>
<div class="line"><span class="comment">   * @param init Initial value</span></div>
<div class="line"><span class="comment">   * @param folder Function that combines accumulator with each result</span></div>
<div class="line"><span class="comment">   * @return Final folded value</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * float total_mass = query.Fold(0.0F, [](float acc, const Physics&amp; p) { return acc + p.mass; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::FolderFor&lt;Func, T, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] T <a id="a115" name="a115"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#acdd9d540031b4c5bf3cbc817ac2a333f">Fold</a>(T <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">folder</a>) <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Finds the first element matching a predicate.</span></div>
<div class="line"><span class="comment">   * @details Searches through query results until finding one that satisfies the predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Optional containing the first matching tuple, or empty if none found</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto low_health = query.FindFirst([](const Health&amp; h) { return h.current &lt; 10.0F; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a30ad8954186a06cb0535803a9eaebeca">FindFirst</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span> -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Partitions elements into two groups based on a predicate.</span></div>
<div class="line"><span class="comment">   * @tparam Pred Predicate function type (Components...) -&gt; bool</span></div>
<div class="line"><span class="comment">   * @param predicate Function to test each result</span></div>
<div class="line"><span class="comment">   * @return Pair of vectors: first contains tuples matching predicate, second contains non-matching</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto [alive, dead] = query.Partition([](const Health&amp; h) { return !h.IsDead(); });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a116" name="a116"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab126f1bd078822d4823733bc9dcfb553">Partition</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span></div>
<div class="line">      -&gt; std::pair&lt;std::vector&lt;value_type&gt;, std::vector&lt;value_type&gt;&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Calculates the maximum value using a key function.</span></div>
<div class="line"><span class="comment">   * @details Finds the element that produces the maximum value when passed to the key function.</span></div>
<div class="line"><span class="comment">   * @tparam KeyFunc Function type (Components...) -&gt; Comparable</span></div>
<div class="line"><span class="comment">   * @param key_func Function to extract the comparison value</span></div>
<div class="line"><span class="comment">   * @return Optional containing the element with maximum key, or empty if query is empty</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto strongest = query.MaxBy([](const Stats&amp; s) { return s.strength; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a117" name="a117"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a40310dd01db2187b0620b243e7162305">MaxBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span> -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Calculates the minimum value using a key function.</span></div>
<div class="line"><span class="comment">   * @details Finds the element that produces the minimum value when passed to the key function.</span></div>
<div class="line"><span class="comment">   * @tparam KeyFunc Function type (Components...) -&gt; Comparable</span></div>
<div class="line"><span class="comment">   * @param key_func Function to extract the comparison value</span></div>
<div class="line"><span class="comment">   * @return Optional containing the element with minimum key, or empty if query is empty</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @example</span></div>
<div class="line"><span class="comment">   * @code</span></div>
<div class="line"><span class="comment">   * auto weakest = query.MinBy([](const Stats&amp; s) { return s.strength; });</span></div>
<div class="line"><span class="comment">   * @endcode</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a118" name="a118"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae9af8788bda768c7da2781b1a8ed4660">MinBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span> -&gt; std::optional&lt;value_type&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Checks if any entities match the query.</span></div>
<div class="line"><span class="comment">   * @details Fast check for query result emptiness without full iteration.</span></div>
<div class="line"><span class="comment">   * @return True if at least one entity matches, false otherwise</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">bool</span> <a id="a119" name="a119"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a5264b166ac87072b45c21088c42e28a0">Empty</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets the number of matching entities.</span></div>
<div class="line"><span class="comment">   * @details Counts entities across all matching archetypes.</span></div>
<div class="line"><span class="comment">   * Time complexity: O(A) where A is the number of matching archetypes.</span></div>
<div class="line"><span class="comment">   * @return Total count of entities that match the query</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keywordtype">size_t</span> <a id="a120" name="a120"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a6fbc4ab9ae8e35bc37f623d2d46ce028">Count</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets iterator to first matching entity.</span></div>
<div class="line"><span class="comment">   * @return Iterator pointing to first result</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a3cb8e6b0198c62e79a25515821418fb0">iterator</a> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">begin</a>() <span class="keyword">const</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets iterator past the last matching entity.</span></div>
<div class="line"><span class="comment">   * @return End iterator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a3cb8e6b0198c62e79a25515821418fb0">iterator</a> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">end</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">    <span class="keywordflow">return</span> {matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets the allocator used by this query.</span></div>
<div class="line"><span class="comment">   * @return Copy of the allocator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab4990adc25ab53f74f4aa683bbf96cc5">allocator_type</a> <a id="a121" name="a121"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab8ad69c57cc51fbb5468a6d50712d48b">get_allocator</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> alloc_; }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Refreshes the list of matching archetypes.</span></div>
<div class="line"><span class="comment">   * @details Updates cached archetype list based on current world state.</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keywordtype">void</span> RefreshArchetypes()<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> = world_.get().GetArchetypes().FindMatchingArchetypes(with_components_, without_components_);</div>
<div class="line">    matching_archetypes_.clear();</div>
<div class="line">    matching_archetypes_.reserve(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.size());</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a> : <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>) {</div>
<div class="line">      matching_archetypes_.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; GetWorld() <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> world_.get(); }</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; GetWorld() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> world_.get(); }</div>
<div class="line"> </div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a1595ecd403db2ba82996e170f1c7f083">ComponentsType</a>&amp; GetComponents() <span class="keyword">const</span> <span class="keyword">noexcept</span>;</div>
<div class="line"> </div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> GetMatchingArchetypes() <span class="keyword">const</span> <span class="keyword">noexcept</span></div>
<div class="line">      -&gt; std::span&lt;const std::reference_wrapper&lt;const details::Archetype&gt;&gt; {</div>
<div class="line">    <span class="keywordflow">return</span> {matching_archetypes_.data(), matching_archetypes_.size()};</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::reference_wrapper&lt;WorldT&gt; world_;                        <span class="comment">///&lt; Reference to ECS world</span></div>
<div class="line">  std::vector&lt;ComponentTypeId, Allocator&gt; with_components_;     <span class="comment">///&lt; Required component types</span></div>
<div class="line">  std::vector&lt;ComponentTypeId, Allocator&gt; without_components_;  <span class="comment">///&lt; Forbidden component types</span></div>
<div class="line">  <span class="keyword">mutable</span> std::vector&lt;std::reference_wrapper&lt;const details::Archetype&gt;, <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#aa215768ac4c8d215de59b80496a632bf">ArchetypeAllocator</a>&gt;</div>
<div class="line">      matching_archetypes_;                <span class="comment">///&lt; Cached matching archetypes</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">no_unique_address</a>]] Allocator alloc_;  <span class="comment">///&lt; Allocator instance</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">friend</span> <span class="keyword">class </span>BasicQueryWithEntity&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, Components...&gt;;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"><span class="comment">// BasicQueryWithEntity implementation</span></div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aba93be6efd86074addb34b524b98319b">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Collect</a>() <span class="keyword">const</span> -&gt; std::vector&lt;value_type&gt; {</div>
<div class="line">  std::vector&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(query_.Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">  <span class="keyword">requires</span> std::same_as&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">ResultAlloc::value_type</a>,</div>
<div class="line">                        std::iter_value_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a41d45e69210b60ea2c58c747986bda59">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::CollectWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::vector&lt;value_type, ResultAlloc&gt; {</div>
<div class="line">  std::vector&lt;value_type, ResultAlloc&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>{std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>)};</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(query_.Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a64e8fb8b9687ba60974c39414f8891ac">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::CollectEntities</a>() <span class="keyword">const</span> -&gt; std::vector&lt;Entity&gt; {</div>
<div class="line">  std::vector&lt;Entity&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(query_.Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(std::get&lt;0&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>));</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">  <span class="keyword">requires</span> std::same_as&lt;typename ResultAlloc::value_type, Entity&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a3d87a3a8b15fb421a5884863deb8530b">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::CollectEntitiesWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::vector&lt;Entity, ResultAlloc&gt; {</div>
<div class="line">  std::vector&lt;Entity, ResultAlloc&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>{std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>)};</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(query_.Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(std::get&lt;0&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>));</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> OutIt&gt;</div>
<div class="line">  <span class="keyword">requires</span> std::output_iterator&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a>, std::iter_value_t&lt;details::QueryWithEntityIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa5d95df7632f39a1135219c0151bcf41">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Into</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>) {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>++ = std::forward&lt;decltype(result)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a26d0bfed186f6404d133afa231e7cc80">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::ForEach</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>) {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a60e79098067a960a04e81b47ccb5da4f">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Filter</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::FilterAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  query_.<a id="a122" name="a122"></a>RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;Func, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5f29a11d740a060c5913dba5a239bf98">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Map</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>) <span class="keyword">const</span>&amp; -&gt; utils::MapAdapter&lt;iterator, Func&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#afecf94b214053b8cd835443db89f7df2">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Take</a>(</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeAdapter&lt;iterator&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5436692bf64f7220459a13762aada489">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Skip</a>(</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipAdapter&lt;iterator&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a47759f750af2374c9ee5b425aedc59be">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::TakeWhile</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeWhileAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a614ea8b640c4bb923ac4f2085d6dc282">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::SkipWhile</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipWhileAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a660daef31bbc0dd28f520ba98bcde358">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Enumerate</a>()</div>
<div class="line">    <span class="keyword">const</span>&amp; -&gt; utils::EnumerateAdapter&lt;iterator&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::InspectorFor&lt;Func, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aac9b10f4691b6a419ff0feb217a15083">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Inspect</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>) <span class="keyword">const</span>&amp; -&gt; utils::InspectAdapter&lt;iterator, Func&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a52ebf0a1e9d24ceef6792374128d6ea1">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::StepBy</a>(</div>
<div class="line">    <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>) <span class="keyword">const</span>&amp; -&gt; utils::StepByAdapter&lt;iterator&gt; {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> =</div>
<div class="line">      iterator(query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a68918b3975cad2ba1fe09f4e2e85a176">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::FindFirst</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)</div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>)) {</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a97f1582f0ea79a3c47e5bb7135d66eb3">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::MaxBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> = begin();</div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = end();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::optional&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>.emplace(*<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>);</div>
<div class="line">  ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> != <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a> = *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> &gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a>) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a>;</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>.emplace(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    }</div>
<div class="line">    ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ab44e72f4411e116eaca5e31977ac8adc">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::MinBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> = begin();</div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = end();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::optional&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>.emplace(*<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>);</div>
<div class="line">  ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> != <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a> = *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> &lt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a>) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a>;</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>.emplace(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    }</div>
<div class="line">    ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#abb8fb6ed4fd85805ad03a663d9cd7fc8">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::CountIf</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) {</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a> = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>)) {</div>
<div class="line">      ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a791ff89b8d545665b7b9ad6480a25e6d">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::All</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (!std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>)) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7d66edcf99ce30894b39d6fa2d1aea04">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::Partition</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)</div>
<div class="line">    -&gt; std::pair&lt;std::vector&lt;Entity&gt;, std::vector&lt;Entity&gt;&gt; {</div>
<div class="line">  std::vector&lt;Entity&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>;</div>
<div class="line">  std::vector&lt;Entity&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>)) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>.push_back(std::get&lt;0&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>));</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>.push_back(std::get&lt;0&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>));</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> {std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyExtractor&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;KeyExtractor, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a241404052488891d1697ec4923d8bc75">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::GroupBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyExtractor</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_extractor</a>)</div>
<div class="line">    -&gt; std::unordered_map&lt;std::invoke_result_t&lt;KeyExtractor, Entity, details::ComponentAccessType&lt;Components&gt;...&gt;,</div>
<div class="line">                          std::vector&lt;Entity&gt;&gt; {</div>
<div class="line">  <span class="keyword">using </span><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyType</a> = std::invoke_result_t&lt;KeyExtractor, Entity, details::ComponentAccessType&lt;Components&gt;...&gt;;</div>
<div class="line">  std::unordered_map&lt;KeyType, std::vector&lt;Entity&gt;&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">groups</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_extractor</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">groups</a>[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key</a>].push_back(std::get&lt;0&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">groups</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::begin</a>() <span class="keyword">const</span> -&gt; iterator {</div>
<div class="line">  query_.RefreshArchetypes();</div>
<div class="line">  <span class="keywordflow">return</span> {query_.GetMatchingArchetypes(), query_.GetComponents(), 0, 0};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">BasicQueryWithEntity&lt;WorldT, Allocator, Components...&gt;::end</a>() <span class="keyword">const</span> -&gt; iterator {</div>
<div class="line">  <span class="keywordflow">return</span> {query_.GetMatchingArchetypes(), query_.GetComponents(), query_.GetMatchingArchetypes().size(), 0};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"><span class="comment">// BasicQuery implementation</span></div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><a id="a123" name="a123"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#abec6b6d18df150c10d70b6b5eeffbaeb">BasicQuery&lt;WorldT, Allocator, Components...&gt;::BasicQuery</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>,</div>
<div class="line">                                                         std::vector&lt;ComponentTypeId, Allocator&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">with_components</a>,</div>
<div class="line">                                                         std::vector&lt;ComponentTypeId, Allocator&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">without_components</a>,</div>
<div class="line">                                                         Allocator <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>)</div>
<div class="line">    : world_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>),</div>
<div class="line">      with_components_(std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">with_components</a>)),</div>
<div class="line">      without_components_(std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">without_components</a>)),</div>
<div class="line">      matching_archetypes_(ArchetypeAllocator(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>)),</div>
<div class="line">      alloc_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) {</div>
<div class="line">  <span class="keyword">static_assert</span>(details::ValidWorldComponentAccess&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Components...&gt;,</div>
<div class="line">                <span class="stringliteral">&quot;Cannot request mutable component access from const World! &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;Use const-qualified components (e.g., &#39;const Position&amp;&#39;) or pass mutable World.&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> OutIt&gt;</div>
<div class="line">  <span class="keyword">requires</span> std::output_iterator&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a>, std::iter_value_t&lt;details::QueryIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a16daec85c80a6fd62e5aa4c28756b64b">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Into</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">OutIt</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>)<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">out</a>++ = std::forward&lt;decltype(result)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a366104a42e6ae53fdac3650c58174750">BasicQuery&lt;WorldT, Allocator, Components...&gt;::ForEach</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>)<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Action&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::ActionFor&lt;Action, std::tuple&lt;Entity, details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a016dd9e4aac691afbdace775101908d8">BasicQuery&lt;WorldT, Allocator, Components...&gt;::ForEachWithEntity</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Action</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>)<span class="keyword"> const </span>{</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a80ff0b97ee2dbc789899b9c17bfc1684">WithEntityIterator</a>(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#a80ff0b97ee2dbc789899b9c17bfc1684">WithEntityIterator</a>(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> != <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>; ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>) {</div>
<div class="line">    std::apply([&amp;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>](Entity entity, <span class="keyword">auto</span>&amp;&amp;... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>) { <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">action</a>(entity, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>...); }, *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a1a26e42ac4bf59a270060b75e0777077">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Filter</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::FilterAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;Func, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a2d37c7f676edaf3063c222fec8d900be">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Map</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>) <span class="keyword">const</span>&amp; -&gt; utils::MapAdapter&lt;iterator, Func&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">transform</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#acd7556401e11ec9f0091f9a54c5d3fec">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Take</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeAdapter&lt;iterator&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a24a40eed84e38bae9e088acb6246244e">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Skip</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipAdapter&lt;iterator&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ace823cbc18cc0d0dd625d4994d49b40c">BasicQuery&lt;WorldT, Allocator, Components...&gt;::TakeWhile</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::TakeWhileAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a4a5abdebef73a269b8f6a8102c14e9e0">BasicQuery&lt;WorldT, Allocator, Components...&gt;::SkipWhile</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span>&amp; -&gt; utils::SkipWhileAdapter&lt;iterator, Pred&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a686d030fbdbacf6c2aea251c1c363a83">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Enumerate</a>() <span class="keyword">const</span>&amp; -&gt; utils::EnumerateAdapter&lt;iterator&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::InspectorFor&lt;Func, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a53d5b0dedb1906531b7dd08dba1fef1c">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Inspect</a>(</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>) <span class="keyword">const</span>&amp; -&gt; utils::InspectAdapter&lt;iterator, Func&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(GetMatchingArchetypes(), GetComponents(), GetMatchingArchetypes().size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">inspector</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a119bcf992ee60570d164684038182a77">BasicQuery&lt;WorldT, Allocator, Components...&gt;::StepBy</a>(<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>) <span class="keyword">const</span>&amp; -&gt; utils::StepByAdapter&lt;iterator&gt; {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a> = iterator(matching_archetypes_, GetComponents(), 0, 0);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = iterator(matching_archetypes_, GetComponents(), matching_archetypes_.size(), 0);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">begin_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">step</a>};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae0198df619d902b8be7fc9549f4058aa">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Collect</a>() <span class="keyword">const</span> -&gt; std::vector&lt;value_type&gt; {</div>
<div class="line">  std::vector&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ResultAlloc&gt;</div>
<div class="line">  <span class="keyword">requires</span> std::same_as&lt;<span class="keyword">typename</span> <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">ResultAlloc::value_type</a>, std::iter_value_t&lt;details::QueryIterator&lt;Components...&gt;&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a92ab87639e1b038c0869a1b1ab4aaf86">BasicQuery&lt;WorldT, Allocator, Components...&gt;::CollectWith</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ResultAlloc</a> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::vector&lt;value_type, ResultAlloc&gt; {</div>
<div class="line">  std::vector&lt;value_type, ResultAlloc&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>{std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>)};</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.reserve(Count());</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Func&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::FolderFor&lt;Func, T, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> T <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#acdd9d540031b4c5bf3cbc817ac2a333f">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Fold</a>(T <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a>, <span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Func</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">folder</a>)<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a> = std::apply(</div>
<div class="line">        [&amp;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a>, &amp;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">folder</a>](<span class="keyword">auto</span>&amp;&amp;... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>) {</div>
<div class="line">          <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">folder</a>(std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a>), std::forward&lt;<span class="keyword">decltype</span>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">components</a>)...);</div>
<div class="line">        },</div>
<div class="line">        <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">init</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a30ad8954186a06cb0535803a9eaebeca">BasicQuery&lt;WorldT, Allocator, Components...&gt;::FindFirst</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>)) {</div>
<div class="line">      <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a3b1b4ccd46baaeb787de0869a47f582b">BasicQuery&lt;WorldT, Allocator, Components...&gt;::All</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (!std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">result</a>)) {</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ad729c5144cf31fc89ba718f540f3f818">BasicQuery&lt;WorldT, Allocator, Components...&gt;::CountIf</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>)<span class="keyword"> const </span>{</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a> = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>)) {</div>
<div class="line">      ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Pred&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::PredicateFor&lt;Pred, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ab126f1bd078822d4823733bc9dcfb553">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Partition</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Pred</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::pair&lt;std::vector&lt;value_type&gt;, std::vector&lt;value_type&gt;&gt; {</div>
<div class="line">  std::vector&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>;</div>
<div class="line">  std::vector&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a> : *<span class="keyword">this</span>) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">predicate</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>)) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>.push_back(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">tuple</a>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> {std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matched</a>), std::move(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">not_matched</a>)};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a40310dd01db2187b0620b243e7162305">BasicQuery&lt;WorldT, Allocator, Components...&gt;::MaxBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> = begin();</div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = end();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::optional&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>.emplace(*<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>);</div>
<div class="line">  ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> != <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a> = *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> &gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a>) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_key</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a>;</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>.emplace(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    }</div>
<div class="line">    ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">max_element</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> KeyFunc&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::TransformFor&lt;KeyFunc, std::tuple&lt;details::ComponentAccessType&lt;Components&gt;...&gt;&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#ae9af8788bda768c7da2781b1a8ed4660">BasicQuery&lt;WorldT, Allocator, Components...&gt;::MinBy</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">KeyFunc</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>) <span class="keyword">const</span></div>
<div class="line">    -&gt; std::optional&lt;value_type&gt; {</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> = begin();</div>
<div class="line">  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a> = end();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::optional&lt;value_type&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>;</div>
<div class="line">  <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>.emplace(*<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>);</div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>);</div>
<div class="line">  ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a> != <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">end_iter</a>) {</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a> = *<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">    <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> = std::apply(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">key_func</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a> &lt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a>) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_key</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current_key</a>;</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>.emplace(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">current</a>);</div>
<div class="line">    }</div>
<div class="line">    ++<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">iter</a>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">min_element</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a5264b166ac87072b45c21088c42e28a0">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Empty</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keywordflow">return</span> matching_archetypes_.empty() || Count() == 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#a6fbc4ab9ae8e35bc37f623d2d46ce028">BasicQuery&lt;WorldT, Allocator, Components...&gt;::Count</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a> = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_ref</a> : matching_archetypes_) {</div>
<div class="line">    <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a> += <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">archetype_ref</a>.get().EntityCount();</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">count</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">BasicQuery&lt;WorldT, Allocator, Components...&gt;::begin</a>() <span class="keyword">const</span> -&gt; iterator {</div>
<div class="line">  RefreshArchetypes();</div>
<div class="line">  <span class="keywordflow">return</span> {matching_archetypes_, GetComponents(), 0, 0};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;Components...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQuery&lt;WorldT, Allocator, Components...&gt;::GetComponents</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> -&gt;</div>
<div class="line">    <span class="keyword">typename</span> BasicQuery&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, Components...&gt;::ComponentsType&amp; {</div>
<div class="line">  <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_variable" href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">details::AllComponentsConst</a>&lt;Components...&gt; || details::IsConstWorld&lt;WorldT&gt;) {</div>
<div class="line">    <span class="keywordflow">return</span> std::as_const(world_.get()).GetComponents();</div>
<div class="line">  } <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">return</span> world_.get().GetComponents();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"><span class="comment">// BasicQueryBuilder</span></div>
<div class="line"><span class="comment">// ================================================================================================</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * @brief Query builder for filtering entities by components with fluent interface.</span></div>
<div class="line"><span class="comment"> * @details Provides a fluent API for constructing queries with required and forbidden component types.</span></div>
<div class="line"><span class="comment"> * Supports const-qualified World access for read-only queries and custom allocators for internal storage.</span></div>
<div class="line"><span class="comment"> * @note Not thread-safe.</span></div>
<div class="line"><span class="comment"> * @tparam WorldT World type (World or const World), must satisfy WorldType concept</span></div>
<div class="line"><span class="comment"> * @tparam Allocator Allocator type for internal storage</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @example</span></div>
<div class="line"><span class="comment"> * @code</span></div>
<div class="line"><span class="comment"> * // Query with mutable access</span></div>
<div class="line"><span class="comment"> * auto query = QueryBuilder(world)</span></div>
<div class="line"><span class="comment"> *     .Without&lt;Frozen&gt;()</span></div>
<div class="line"><span class="comment"> *     .Get&lt;Position&amp;, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * // Query with mixed const/mutable access</span></div>
<div class="line"><span class="comment"> * auto query = QueryBuilder(world)</span></div>
<div class="line"><span class="comment"> *     .With&lt;Player&gt;()</span></div>
<div class="line"><span class="comment"> *     .Get&lt;const Position&amp;, Velocity&amp;&gt;();</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * // Read-only query from const World</span></div>
<div class="line"><span class="comment"> * auto query = ReadOnlyQueryBuilder(const_world)</span></div>
<div class="line"><span class="comment"> *     .Get&lt;const Position&amp;&gt;();  // Only const access allowed</span></div>
<div class="line"><span class="comment"> * @endcode</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT = World, <span class="keyword">typename</span> Allocator = std::allocator&lt;ComponentTypeId&gt;&gt;</div>
<div class="line"><span class="keyword">class </span>BasicQueryBuilder {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">using </span><a id="a124" name="a124"></a><a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#aca07672cca5b2624bb511e67256afbd3">allocator_type</a> = Allocator;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs query builder for the specified world.</span></div>
<div class="line"><span class="comment">   * @param world Reference to ECS world to query</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator for internal storage</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">explicit</span> BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>, Allocator <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a> = {}) <span class="keyword">noexcept</span></div>
<div class="line">      : world_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>), with_components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>), without_components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>), alloc_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) {}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Constructs query builder for the specified world with access validation.</span></div>
<div class="line"><span class="comment">   * @param world Reference to ECS world to query</span></div>
<div class="line"><span class="comment">   * @param policy Access policy for validation</span></div>
<div class="line"><span class="comment">   * @param alloc Allocator for internal storage</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>, <span class="keyword">const</span> app::AccessPolicy&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">policy</a>, Allocator <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a> = {})</div>
<div class="line">      : world_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">world</a>), policy_(&amp;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">policy</a>), with_components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>), without_components_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>), alloc_(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">alloc</a>) {}</div>
<div class="line"> </div>
<div class="line">  BasicQueryBuilder(<span class="keyword">const</span> BasicQueryBuilder&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQueryBuilder(BasicQueryBuilder&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line">  <a id="a125" name="a125"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#adeb5c3f33c577221e3d48e0de18d1af2">~BasicQueryBuilder</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">  BasicQueryBuilder&amp; <a id="a126" name="a126"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a52623b02d7203062f822d1883406c067">operator=</a>(<span class="keyword">const</span> BasicQueryBuilder&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">  BasicQueryBuilder&amp; <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a52623b02d7203062f822d1883406c067">operator=</a>(BasicQueryBuilder&amp;&amp;) <span class="keyword">noexcept</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Adds required component types to the query.</span></div>
<div class="line"><span class="comment">   * @details Entities must have ALL specified component types to match the query.</span></div>
<div class="line"><span class="comment">   * @tparam Comps Component types that entities must have</span></div>
<div class="line"><span class="comment">   * @return Reference to this builder for method chaining</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::UniqueTypes&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;</div>
<div class="line">  <span class="keyword">auto</span> <a id="a127" name="a127"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a958be3c695e88d22ee07ac79042fd8c9">With</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>) -&gt; <span class="keyword">decltype</span>(std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>));</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Adds forbidden component types to the query.</span></div>
<div class="line"><span class="comment">   * @details Entities must NOT have ANY of the specified component types to match the query.</span></div>
<div class="line"><span class="comment">   * @tparam Comps Component types that entities must not have</span></div>
<div class="line"><span class="comment">   * @return Reference to this builder for method chaining</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">    <span class="keyword">requires</span> utils::UniqueTypes&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;</div>
<div class="line">  <span class="keyword">auto</span> <a id="a128" name="a128"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a9f77f71631721409ddc71504fef20885">Without</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>) -&gt; <span class="keyword">decltype</span>(std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>));</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Builds and executes the query, returning components with specified access.</span></div>
<div class="line"><span class="comment">   * @details Creates query object with the specified component access types.</span></div>
<div class="line"><span class="comment">   * Supports const-qualified access for read-only operations and mixed access patterns.</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * Access type examples:</span></div>
<div class="line"><span class="comment">   * - `T&amp;` - Mutable reference to component T</span></div>
<div class="line"><span class="comment">   * - `const T&amp;` - Const reference to component T</span></div>
<div class="line"><span class="comment">   * - `T` - Copy of component T</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * Const World Restriction:</span></div>
<div class="line"><span class="comment">   * - When BasicQueryBuilder is constructed with `const World&amp;`, only const component access is allowed</span></div>
<div class="line"><span class="comment">   * - Attempting to use mutable component access (e.g., `Get&lt;Position&amp;&gt;()`) will fail at compile time</span></div>
<div class="line"><span class="comment">   *</span></div>
<div class="line"><span class="comment">   * @tparam Comps Component access types (may include const qualifiers and references)</span></div>
<div class="line"><span class="comment">   * @return BasicQuery object for iteration over matching entities</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  <span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">    <span class="keyword">requires</span>(<span class="keyword">sizeof</span>...(Comps) &gt; 0 &amp;&amp; utils::UniqueTypes&lt;details::ComponentTypeExtractor_t&lt;Comps&gt;...&gt;)</div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a id="a129" name="a129"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a318623c64368f83fb57895b59754a516">Get</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>) -&gt; BasicQuery&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Builds and executes the query, returning no components.</span></div>
<div class="line"><span class="comment">   * @details Creates query object that only filters entities based on presence/absence</span></div>
<div class="line"><span class="comment">   * of specified components, without returning any component data.</span></div>
<div class="line"><span class="comment">   * Useful for existence checks or counting entities.</span></div>
<div class="line"><span class="comment">   * @return BasicQuery object for iteration over matching entities</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a318623c64368f83fb57895b59754a516">Get</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>) -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQuery&lt;WorldT, Allocator&gt;</a> {</div>
<div class="line">    <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.<a id="a130" name="a130"></a>world_.get(), std::forward_like&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_),</div>
<div class="line">            std::forward_like&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.without_components_), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.alloc_};</div>
<div class="line">  }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">  /**</span></div>
<div class="line"><span class="comment">   * @brief Gets the allocator used by this builder.</span></div>
<div class="line"><span class="comment">   * @return Copy of the allocator</span></div>
<div class="line"><span class="comment">   */</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">nodiscard</a>]] <a class="code hl_typedef" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#aca07672cca5b2624bb511e67256afbd3">allocator_type</a> <a id="a131" name="a131"></a><a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a6cd8b0fabc8949115f3952137ab3a601">get_allocator</a>() <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> alloc_; }</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  std::reference_wrapper&lt;WorldT&gt; world_;                        <span class="comment">///&lt; Reference to ECS world</span></div>
<div class="line">  <span class="keyword">const</span> app::AccessPolicy* policy_ = <span class="keyword">nullptr</span>;                   <span class="comment">///&lt; Access policy for Get() check</span></div>
<div class="line">  std::vector&lt;ComponentTypeId, Allocator&gt; with_components_;     <span class="comment">///&lt; Required component type IDs</span></div>
<div class="line">  std::vector&lt;ComponentTypeId, Allocator&gt; without_components_;  <span class="comment">///&lt; Forbidden component type IDs</span></div>
<div class="line">  [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">no_unique_address</a>]] Allocator alloc_;                       <span class="comment">///&lt; Allocator instance</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Deduction guides for BasicQueryBuilder</span></div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT&gt;</div>
<div class="line">BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp;) -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;WorldT, std::allocator&lt;ComponentTypeId&gt;</a>&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT&gt;</div>
<div class="line">BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp;, <span class="keyword">const</span> app::AccessPolicy&amp;) -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;WorldT, std::allocator&lt;ComponentTypeId&gt;</a>&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT, <span class="keyword">typename</span> Allocator&gt;</div>
<div class="line">BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp;, Allocator) -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;WorldT, Allocator&gt;</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT, <span class="keyword">typename</span> Allocator&gt;</div>
<div class="line">BasicQueryBuilder(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>&amp;, <span class="keyword">const</span> app::AccessPolicy&amp;, Allocator) -&gt; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;WorldT, Allocator&gt;</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query builder with mutable world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator = std::allocator&lt;ComponentTypeId&gt;&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a132" name="a132"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#a83d597eaa8fb1e270bfe8d4bc7245ced">QueryBuilder</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;World, Allocator&gt;</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query builder with read-only world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator = std::allocator&lt;ComponentTypeId&gt;&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a133" name="a133"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#a4755541af4fd6360392ff763a9ac514b">ReadOnlyQueryBuilder</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">BasicQueryBuilder&lt;const World, Allocator&gt;</a>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query with mutable world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line"><span class="keyword">using </span><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Query</a> = BasicQuery&lt;World, Allocator, Components...&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query with read-only world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a134" name="a134"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#ab717249650b680f0d613245ac2f607be">ReadOnlyQuery</a> = BasicQuery&lt;<span class="keyword">const</span> World, Allocator, Components...&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query with entity with mutable world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a135" name="a135"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#a766673fbd9b01884e7c038e8ea55d353">QueryWithEntity</a> = BasicQueryWithEntity&lt;World, Allocator, Components...&gt;;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Type alias for query with entity with read-only world access</span></div>
<div class="line"><span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Allocator, ComponentTrait... Components&gt;</div>
<div class="line"><span class="keyword">using </span><a id="a136" name="a136"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#aefed4ec5025ab3f103cd9a288981aed3">ReadOnlyQueryWithEntity</a> = BasicQueryWithEntity&lt;<span class="keyword">const</span> World, Allocator, Components...&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT, <span class="keyword">typename</span> Allocator&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a958be3c695e88d22ee07ac79042fd8c9">BasicQueryBuilder&lt;WorldT, Allocator&gt;::With</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>)</div>
<div class="line">    -&gt; <span class="keyword">decltype</span>(std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>)) {</div>
<div class="line">  (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_.insert(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_.end(), {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeIdOf&lt;Comps&gt;</a>()...}));</div>
<div class="line">  <span class="keywordflow">return</span> std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT, <span class="keyword">typename</span> Allocator&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">  <span class="keyword">requires</span> utils::UniqueTypes&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a9f77f71631721409ddc71504fef20885">BasicQueryBuilder&lt;WorldT, Allocator&gt;::Without</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>)</div>
<div class="line">    -&gt; <span class="keyword">decltype</span>(std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>)) {</div>
<div class="line">  (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.without_components_.insert(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.without_components_.end(), {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeIdOf&lt;Comps&gt;</a>()...}));</div>
<div class="line">  <span class="keywordflow">return</span> std::forward&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span> &lt;WorldType WorldT, <span class="keyword">typename</span> Allocator&gt;</div>
<div class="line"><span class="keyword">template</span> &lt;ComponentTrait... <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>&gt;</div>
<div class="line">  <span class="keyword">requires</span>(<span class="keyword">sizeof</span>...(Comps) &gt; 0 &amp;&amp; utils::UniqueTypes&lt;details::ComponentTypeExtractor_t&lt;Comps&gt;...&gt;)</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">auto</span> <a class="code hl_function" href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a318623c64368f83fb57895b59754a516">BasicQueryBuilder&lt;WorldT, Allocator&gt;::Get</a>(<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>) -&gt; BasicQuery&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, Allocator, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt; {</div>
<div class="line">  <span class="comment">// Compile-time validation: const World requires const Components</span></div>
<div class="line">  <span class="keyword">static_assert</span>(details::ValidWorldComponentAccess&lt;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">WorldT</a>, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">Comps</a>...&gt;,</div>
<div class="line">                <span class="stringliteral">&quot;Cannot request mutable component access from const World! &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;Use const-qualified components (e.g., &#39;const Position&amp;&#39;) or pass mutable World.&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef HELIOS_ENABLE_ASSERTS</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.policy_ != <span class="keyword">nullptr</span>) [[<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">likely</a>]] {</div>
<div class="line">    <span class="comment">// Check that all requested component types are declared in at least one query</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">queries</a> = <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.policy_-&gt;GetQueries();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Collect all requested component type IDs</span></div>
<div class="line">    <span class="keyword">constexpr</span> std::array <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">requested_types</a> = {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">ComponentTypeIdOf&lt;details::ComponentTypeExtractor_t&lt;Comps&gt;</a>&gt;()...};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if each requested type is in any query (read or write)</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">requested_id</a> : <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">requested_types</a>) {</div>
<div class="line">      <span class="keywordtype">bool</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">found</a> = <span class="keyword">false</span>;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">query</a> : <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">queries</a>) {</div>
<div class="line">        <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matches_id</a> = [<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">requested_id</a>](<span class="keyword">const</span> <span class="keyword">auto</span>&amp; info) { <span class="keywordflow">return</span> info.type_id == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">requested_id</a>; };</div>
<div class="line">        <span class="keywordflow">if</span> (std::ranges::any_of(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">query</a>.read_components, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matches_id</a>) ||</div>
<div class="line">            std::ranges::any_of(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">query</a>.write_components, <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">matches_id</a>)) {</div>
<div class="line">          <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">found</a> = <span class="keyword">true</span>;</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_define" href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a>(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">found</a>,</div>
<div class="line">                    <span class="stringliteral">&quot;Attempted to query component that was not declared in app::AccessPolicy! &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;Add .Query&lt;&gt;() with this component type to GetAccessPolicy().&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Add required components for Get&lt;&gt; to with_components_ if not already there</span></div>
<div class="line">  <span class="keyword">auto</span> <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">add_if_not_present</a> = [&amp;<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>](<a id="a137" name="a137"></a><a class="code hl_typedef" href="namespacehelios_1_1ecs.html#a9ede7913aa71f830d7181d280b3848a1">ComponentTypeId</a> type_id) {</div>
<div class="line">    <span class="keywordflow">if</span> (std::ranges::find(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_, type_id) == <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_.end()) {</div>
<div class="line">      <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_.push_back(type_id);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  (<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">add_if_not_present</a>(<a id="a138" name="a138"></a><a class="code hl_function" href="namespacehelios_1_1ecs.html#aa400818859ffa5601e8f7cd5b7603d83">ComponentTypeIdOf</a>&lt;details::ComponentTypeExtractor_t&lt;Comps&gt;&gt;()), ...);</div>
<div class="line">  <span class="keywordflow">return</span> {<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.world_.get(), std::forward_like&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.with_components_),</div>
<div class="line">          std::forward_like&lt;decltype(self)&gt;(<a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.without_components_), <a class="code hl_typedef" href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">self</a>.alloc_};</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace helios::ecs</span></div>
<div class="ttc" id="aaccess__policy_8hpp_html"><div class="ttname"><a href="access__policy_8hpp.html">access_policy.hpp</a></div></div>
<div class="ttc" id="aarchetype_8hpp_html"><div class="ttname"><a href="archetype_8hpp.html">archetype.hpp</a></div></div>
<div class="ttc" id="aassert_8hpp_html"><div class="ttname"><a href="assert_8hpp.html">assert.hpp</a></div></div>
<div class="ttc" id="aassert_8hpp_html_a242b112c1c22a1166b0873f5dbcaa5fc"><div class="ttname"><a href="assert_8hpp.html#a242b112c1c22a1166b0873f5dbcaa5fc">HELIOS_ASSERT</a></div><div class="ttdeci">#define HELIOS_ASSERT(condition,...)</div><div class="ttdoc">Assertion macro that aborts execution in debug builds.</div><div class="ttdef"><b>Definition</b> <a href="assert_8hpp_source.html#l00140">assert.hpp:140</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_a318623c64368f83fb57895b59754a516"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a318623c64368f83fb57895b59754a516">helios::ecs::BasicQueryBuilder::Get</a></div><div class="ttdeci">auto Get(this auto &amp;&amp;self) -&gt; BasicQuery&lt; WorldT, Allocator, Comps... &gt;</div><div class="ttdoc">Builds and executes the query, returning components with specified access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02516">query.hpp:2516</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_a52623b02d7203062f822d1883406c067"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a52623b02d7203062f822d1883406c067">helios::ecs::BasicQueryBuilder::operator=</a></div><div class="ttdeci">BasicQueryBuilder &amp; operator=(const BasicQueryBuilder &amp;)=delete</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_a6cd8b0fabc8949115f3952137ab3a601"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a6cd8b0fabc8949115f3952137ab3a601">helios::ecs::BasicQueryBuilder::get_allocator</a></div><div class="ttdeci">allocator_type get_allocator() const noexcept</div><div class="ttdoc">Gets the allocator used by this builder.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02448">query.hpp:2448</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_a958be3c695e88d22ee07ac79042fd8c9"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a958be3c695e88d22ee07ac79042fd8c9">helios::ecs::BasicQueryBuilder::With</a></div><div class="ttdeci">auto With(this auto &amp;&amp;self) -&gt; decltype(std::forward&lt; decltype(self)&gt;(self))</div><div class="ttdoc">Adds required component types to the query.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02498">query.hpp:2498</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_a9f77f71631721409ddc71504fef20885"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#a9f77f71631721409ddc71504fef20885">helios::ecs::BasicQueryBuilder::Without</a></div><div class="ttdeci">auto Without(this auto &amp;&amp;self) -&gt; decltype(std::forward&lt; decltype(self)&gt;(self))</div><div class="ttdoc">Adds forbidden component types to the query.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02507">query.hpp:2507</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_aca07672cca5b2624bb511e67256afbd3"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#aca07672cca5b2624bb511e67256afbd3">helios::ecs::BasicQueryBuilder::allocator_type</a></div><div class="ttdeci">Allocator allocator_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02365">query.hpp:2365</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryBuilder_html_adeb5c3f33c577221e3d48e0de18d1af2"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryBuilder.html#adeb5c3f33c577221e3d48e0de18d1af2">helios::ecs::BasicQueryBuilder::~BasicQueryBuilder</a></div><div class="ttdeci">~BasicQueryBuilder()=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a213250a0fabcd0571fa16abd946cd3e3"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a213250a0fabcd0571fa16abd946cd3e3">helios::ecs::BasicQueryWithEntity::iterator</a></div><div class="ttdeci">details::QueryWithEntityIterator&lt; Components... &gt; iterator</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00570">query.hpp:570</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a241404052488891d1697ec4923d8bc75"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a241404052488891d1697ec4923d8bc75">helios::ecs::BasicQueryWithEntity::GroupBy</a></div><div class="ttdeci">auto GroupBy(const KeyExtractor &amp;key_extractor) -&gt; std::unordered_map&lt; std::invoke_result_t&lt; KeyExtractor, Entity, details::ComponentAccessType&lt; Components &gt;... &gt;, std::vector&lt; Entity &gt; &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01958">query.hpp:1958</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a26d0bfed186f6404d133afa231e7cc80"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a26d0bfed186f6404d133afa231e7cc80">helios::ecs::BasicQueryWithEntity::ForEach</a></div><div class="ttdeci">void ForEach(const Action &amp;action)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01716">query.hpp:1716</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a3d87a3a8b15fb421a5884863deb8530b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a3d87a3a8b15fb421a5884863deb8530b">helios::ecs::BasicQueryWithEntity::CollectEntitiesWith</a></div><div class="ttdeci">auto CollectEntitiesWith(ResultAlloc alloc) const -&gt; std::vector&lt; Entity, ResultAlloc &gt;</div><div class="ttdoc">Collects all entities into a vector using a custom allocator.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01692">query.hpp:1692</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a41d45e69210b60ea2c58c747986bda59"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a41d45e69210b60ea2c58c747986bda59">helios::ecs::BasicQueryWithEntity::CollectWith</a></div><div class="ttdeci">auto CollectWith(ResultAlloc alloc) const -&gt; std::vector&lt; value_type, ResultAlloc &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01667">query.hpp:1667</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a47759f750af2374c9ee5b425aedc59be"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a47759f750af2374c9ee5b425aedc59be">helios::ecs::BasicQueryWithEntity::TakeWhile</a></div><div class="ttdeci">auto TakeWhile(Pred predicate) const &amp;-&gt; utils::TakeWhileAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01774">query.hpp:1774</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a52ebf0a1e9d24ceef6792374128d6ea1"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a52ebf0a1e9d24ceef6792374128d6ea1">helios::ecs::BasicQueryWithEntity::StepBy</a></div><div class="ttdeci">auto StepBy(size_t step) const &amp;-&gt; utils::StepByAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01822">query.hpp:1822</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a5436692bf64f7220459a13762aada489"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5436692bf64f7220459a13762aada489">helios::ecs::BasicQueryWithEntity::Skip</a></div><div class="ttdeci">auto Skip(size_t count) const &amp;-&gt; utils::SkipAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01761">query.hpp:1761</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a583c1c9b5e371d801e05883120ec5e7b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a583c1c9b5e371d801e05883120ec5e7b">helios::ecs::BasicQueryWithEntity::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdoc">Gets iterator to first matching entity and components.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01974">query.hpp:1974</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a5f29a11d740a060c5913dba5a239bf98"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a5f29a11d740a060c5913dba5a239bf98">helios::ecs::BasicQueryWithEntity::Map</a></div><div class="ttdeci">auto Map(Func transform) const &amp;-&gt; utils::MapAdapter&lt; iterator, Func &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01739">query.hpp:1739</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a60e79098067a960a04e81b47ccb5da4f"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a60e79098067a960a04e81b47ccb5da4f">helios::ecs::BasicQueryWithEntity::Filter</a></div><div class="ttdeci">auto Filter(Pred predicate) const &amp;-&gt; utils::FilterAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01726">query.hpp:1726</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a614ea8b640c4bb923ac4f2085d6dc282"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a614ea8b640c4bb923ac4f2085d6dc282">helios::ecs::BasicQueryWithEntity::SkipWhile</a></div><div class="ttdeci">auto SkipWhile(Pred predicate) const &amp;-&gt; utils::SkipWhileAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01787">query.hpp:1787</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a64e8fb8b9687ba60974c39414f8891ac"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a64e8fb8b9687ba60974c39414f8891ac">helios::ecs::BasicQueryWithEntity::CollectEntities</a></div><div class="ttdeci">auto CollectEntities() const -&gt; std::vector&lt; Entity &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01679">query.hpp:1679</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a660daef31bbc0dd28f520ba98bcde358"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a660daef31bbc0dd28f520ba98bcde358">helios::ecs::BasicQueryWithEntity::Enumerate</a></div><div class="ttdeci">auto Enumerate() const &amp;-&gt; utils::EnumerateAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01798">query.hpp:1798</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a68918b3975cad2ba1fe09f4e2e85a176"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a68918b3975cad2ba1fe09f4e2e85a176">helios::ecs::BasicQueryWithEntity::FindFirst</a></div><div class="ttdeci">auto FindFirst(const Pred &amp;predicate) -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01835">query.hpp:1835</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a6d903406acd43f87509c6616f2866387"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a6d903406acd43f87509c6616f2866387">helios::ecs::BasicQueryWithEntity::Reverse</a></div><div class="ttdeci">auto Reverse() const &amp;-&gt; utils::ReverseAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00871">query.hpp:871</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a7672dcf569f3f7493e6286da7f705972"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7672dcf569f3f7493e6286da7f705972">helios::ecs::BasicQueryWithEntity::pointer</a></div><div class="ttdeci">typename iterator::pointer pointer</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00573">query.hpp:573</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a791ff89b8d545665b7b9ad6480a25e6d"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a791ff89b8d545665b7b9ad6480a25e6d">helios::ecs::BasicQueryWithEntity::All</a></div><div class="ttdeci">bool All(const Pred &amp;predicate)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01925">query.hpp:1925</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a7cd6a46c64bd4f8bf6554cd7a0e3c7c3"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7cd6a46c64bd4f8bf6554cd7a0e3c7c3">helios::ecs::BasicQueryWithEntity::Slide</a></div><div class="ttdeci">auto Slide(size_t window_size) const &amp;-&gt; utils::SlideAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00885">query.hpp:885</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a7cf14fab09f70a94b11ae99ba8116f6d"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7cf14fab09f70a94b11ae99ba8116f6d">helios::ecs::BasicQueryWithEntity::Stride</a></div><div class="ttdeci">auto Stride(size_t stride) const &amp;-&gt; utils::StrideAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00901">query.hpp:901</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a7d4754823d5114bfc9ce93860f1af704"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7d4754823d5114bfc9ce93860f1af704">helios::ecs::BasicQueryWithEntity::difference_type</a></div><div class="ttdeci">std::iter_difference_t&lt; details::QueryWithEntityIterator&lt; Components... &gt; &gt; difference_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00572">query.hpp:572</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a7d66edcf99ce30894b39d6fa2d1aea04"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a7d66edcf99ce30894b39d6fa2d1aea04">helios::ecs::BasicQueryWithEntity::Partition</a></div><div class="ttdeci">auto Partition(const Pred &amp;predicate) -&gt; std::pair&lt; std::vector&lt; Entity &gt;, std::vector&lt; Entity &gt; &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01938">query.hpp:1938</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a8bc7762e5af7b271560ee327000e1433"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a8bc7762e5af7b271560ee327000e1433">helios::ecs::BasicQueryWithEntity::reference</a></div><div class="ttdeci">std::iter_reference_t&lt; details::QueryWithEntityIterator&lt; Components... &gt; &gt; reference</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00574">query.hpp:574</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_a97f1582f0ea79a3c47e5bb7135d66eb3"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#a97f1582f0ea79a3c47e5bb7135d66eb3">helios::ecs::BasicQueryWithEntity::MaxBy</a></div><div class="ttdeci">auto MaxBy(const KeyFunc &amp;key_func) const -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01849">query.hpp:1849</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aa1367acf2674c304491a6b91b5405453"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa1367acf2674c304491a6b91b5405453">helios::ecs::BasicQueryWithEntity::Any</a></div><div class="ttdeci">bool Any(const Pred &amp;predicate)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00938">query.hpp:938</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aa5d95df7632f39a1135219c0151bcf41"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa5d95df7632f39a1135219c0151bcf41">helios::ecs::BasicQueryWithEntity::Into</a></div><div class="ttdeci">void Into(OutIt out)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01706">query.hpp:1706</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aa9c186d092dbc9ec8e74efa9363c2e9a"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aa9c186d092dbc9ec8e74efa9363c2e9a">helios::ecs::BasicQueryWithEntity::allocator_type</a></div><div class="ttdeci">Allocator allocator_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00575">query.hpp:575</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aac9b10f4691b6a419ff0feb217a15083"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aac9b10f4691b6a419ff0feb217a15083">helios::ecs::BasicQueryWithEntity::Inspect</a></div><div class="ttdeci">auto Inspect(Func inspector) const &amp;-&gt; utils::InspectAdapter&lt; iterator, Func &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01811">query.hpp:1811</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_ab44e72f4411e116eaca5e31977ac8adc"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ab44e72f4411e116eaca5e31977ac8adc">helios::ecs::BasicQueryWithEntity::MinBy</a></div><div class="ttdeci">auto MinBy(const KeyFunc &amp;key_func) const -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01880">query.hpp:1880</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aba93be6efd86074addb34b524b98319b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aba93be6efd86074addb34b524b98319b">helios::ecs::BasicQueryWithEntity::Collect</a></div><div class="ttdeci">auto Collect() const -&gt; std::vector&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01653">query.hpp:1653</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_abb8fb6ed4fd85805ad03a663d9cd7fc8"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#abb8fb6ed4fd85805ad03a663d9cd7fc8">helios::ecs::BasicQueryWithEntity::CountIf</a></div><div class="ttdeci">size_t CountIf(const Pred &amp;predicate)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01911">query.hpp:1911</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_ad05fbec65f5c026f80cf22969bd4019a"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ad05fbec65f5c026f80cf22969bd4019a">helios::ecs::BasicQueryWithEntity::value_type</a></div><div class="ttdeci">std::iter_value_t&lt; details::QueryWithEntityIterator&lt; Components... &gt; &gt; value_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00571">query.hpp:571</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_ad6d436187f99bd324f3247fb9a0e8fbb"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#ad6d436187f99bd324f3247fb9a0e8fbb">helios::ecs::BasicQueryWithEntity::operator=</a></div><div class="ttdeci">BasicQueryWithEntity &amp; operator=(const BasicQueryWithEntity &amp;)=delete</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_addb21655e94949a41f4952e4ffd10d6f"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#addb21655e94949a41f4952e4ffd10d6f">helios::ecs::BasicQueryWithEntity::Zip</a></div><div class="ttdeci">auto Zip(OtherIter other_begin, OtherIter other_end) const &amp;-&gt; utils::ZipAdapter&lt; iterator, OtherIter &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00919">query.hpp:919</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_adf06dfa95fc29c87da9208d31b674d08"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#adf06dfa95fc29c87da9208d31b674d08">helios::ecs::BasicQueryWithEntity::None</a></div><div class="ttdeci">bool None(const Pred &amp;predicate)</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00974">query.hpp:974</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aeec66e082a98ed4c96afdb2ec7bae782"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aeec66e082a98ed4c96afdb2ec7bae782">helios::ecs::BasicQueryWithEntity::~BasicQueryWithEntity</a></div><div class="ttdeci">~BasicQueryWithEntity() noexcept=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_aef7b1bdfd98ee1272cae46b1605b6ba2"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#aef7b1bdfd98ee1272cae46b1605b6ba2">helios::ecs::BasicQueryWithEntity::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdoc">Gets iterator past the last matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01981">query.hpp:1981</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQueryWithEntity_html_afecf94b214053b8cd835443db89f7df2"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQueryWithEntity.html#afecf94b214053b8cd835443db89f7df2">helios::ecs::BasicQueryWithEntity::Take</a></div><div class="ttdeci">auto Take(size_t count) const &amp;-&gt; utils::TakeAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01750">query.hpp:1750</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a016dd9e4aac691afbdace775101908d8"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a016dd9e4aac691afbdace775101908d8">helios::ecs::BasicQuery::ForEachWithEntity</a></div><div class="ttdeci">void ForEachWithEntity(const Action &amp;action) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02029">query.hpp:2029</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a119bcf992ee60570d164684038182a77"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a119bcf992ee60570d164684038182a77">helios::ecs::BasicQuery::StepBy</a></div><div class="ttdeci">auto StepBy(size_t step) const &amp;-&gt; utils::StepByAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02127">query.hpp:2127</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a1595ecd403db2ba82996e170f1c7f083"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a1595ecd403db2ba82996e170f1c7f083">helios::ecs::BasicQuery::ComponentsType</a></div><div class="ttdeci">std::conditional_t&lt; details::AllComponentsConst&lt; Components... &gt;, const details::Components, details::Components &gt; ComponentsType</div><div class="ttdoc">Components manager type based on whether all components are const-qualified.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01091">query.hpp:1092</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a16daec85c80a6fd62e5aa4c28756b64b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a16daec85c80a6fd62e5aa4c28756b64b">helios::ecs::BasicQuery::Into</a></div><div class="ttdeci">void Into(OutIt out) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02009">query.hpp:2009</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a1a26e42ac4bf59a270060b75e0777077"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a1a26e42ac4bf59a270060b75e0777077">helios::ecs::BasicQuery::Filter</a></div><div class="ttdeci">auto Filter(Pred predicate) const &amp;-&gt; utils::FilterAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02042">query.hpp:2042</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a24a40eed84e38bae9e088acb6246244e"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a24a40eed84e38bae9e088acb6246244e">helios::ecs::BasicQuery::Skip</a></div><div class="ttdeci">auto Skip(size_t count) const &amp;-&gt; utils::SkipAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02073">query.hpp:2073</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a291d234b147b116951ef83af6af25e00"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a291d234b147b116951ef83af6af25e00">helios::ecs::BasicQuery::None</a></div><div class="ttdeci">bool None(const Pred &amp;predicate) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01477">query.hpp:1477</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a2d37c7f676edaf3063c222fec8d900be"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a2d37c7f676edaf3063c222fec8d900be">helios::ecs::BasicQuery::Map</a></div><div class="ttdeci">auto Map(Func transform) const &amp;-&gt; utils::MapAdapter&lt; iterator, Func &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02054">query.hpp:2054</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a2f08d10389ab211aa2fb6ba1aa0cb660"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a2f08d10389ab211aa2fb6ba1aa0cb660">helios::ecs::BasicQuery::WithEntity</a></div><div class="ttdeci">auto WithEntity() &amp;noexcept -&gt; BasicQueryWithEntity&lt; WorldT, Allocator, Components... &gt;</div><div class="ttdoc">Creates wrapper for entity-aware iteration.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01132">query.hpp:1132</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a307b6039841cf80b0e38f095eefd92d5"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a307b6039841cf80b0e38f095eefd92d5">helios::ecs::BasicQuery::difference_type</a></div><div class="ttdeci">std::iter_difference_t&lt; details::QueryIterator&lt; Components... &gt; &gt; difference_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01098">query.hpp:1098</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a30ad8954186a06cb0535803a9eaebeca"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a30ad8954186a06cb0535803a9eaebeca">helios::ecs::BasicQuery::FindFirst</a></div><div class="ttdeci">auto FindFirst(const Pred &amp;predicate) const -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02178">query.hpp:2178</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a366104a42e6ae53fdac3650c58174750"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a366104a42e6ae53fdac3650c58174750">helios::ecs::BasicQuery::ForEach</a></div><div class="ttdeci">void ForEach(const Action &amp;action) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02019">query.hpp:2019</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a3b1b4ccd46baaeb787de0869a47f582b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a3b1b4ccd46baaeb787de0869a47f582b">helios::ecs::BasicQuery::All</a></div><div class="ttdeci">bool All(const Pred &amp;predicate) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02192">query.hpp:2192</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a3cb8e6b0198c62e79a25515821418fb0"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a3cb8e6b0198c62e79a25515821418fb0">helios::ecs::BasicQuery::iterator</a></div><div class="ttdeci">details::QueryIterator&lt; Components... &gt; iterator</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01096">query.hpp:1096</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a40310dd01db2187b0620b243e7162305"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a40310dd01db2187b0620b243e7162305">helios::ecs::BasicQuery::MaxBy</a></div><div class="ttdeci">auto MaxBy(const KeyFunc &amp;key_func) const -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02239">query.hpp:2239</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a4a5abdebef73a269b8f6a8102c14e9e0"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a4a5abdebef73a269b8f6a8102c14e9e0">helios::ecs::BasicQuery::SkipWhile</a></div><div class="ttdeci">auto SkipWhile(Pred predicate) const &amp;-&gt; utils::SkipWhileAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02096">query.hpp:2096</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a5264b166ac87072b45c21088c42e28a0"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a5264b166ac87072b45c21088c42e28a0">helios::ecs::BasicQuery::Empty</a></div><div class="ttdeci">bool Empty() const noexcept</div><div class="ttdoc">Checks if any entities match the query.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02299">query.hpp:2299</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a53d5b0dedb1906531b7dd08dba1fef1c"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a53d5b0dedb1906531b7dd08dba1fef1c">helios::ecs::BasicQuery::Inspect</a></div><div class="ttdeci">auto Inspect(Func inspector) const &amp;-&gt; utils::InspectAdapter&lt; iterator, Func &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02117">query.hpp:2117</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a686d030fbdbacf6c2aea251c1c363a83"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a686d030fbdbacf6c2aea251c1c363a83">helios::ecs::BasicQuery::Enumerate</a></div><div class="ttdeci">auto Enumerate() const &amp;-&gt; utils::EnumerateAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02106">query.hpp:2106</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a6fbc4ab9ae8e35bc37f623d2d46ce028"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a6fbc4ab9ae8e35bc37f623d2d46ce028">helios::ecs::BasicQuery::Count</a></div><div class="ttdeci">size_t Count() const noexcept</div><div class="ttdoc">Gets the number of matching entities.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02306">query.hpp:2306</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a7874c3c051e8e935efdf35d30b56bbd2"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a7874c3c051e8e935efdf35d30b56bbd2">helios::ecs::BasicQuery::pointer</a></div><div class="ttdeci">typename iterator::pointer pointer</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01099">query.hpp:1099</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a80ff0b97ee2dbc789899b9c17bfc1684"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a80ff0b97ee2dbc789899b9c17bfc1684">helios::ecs::BasicQuery::WithEntityIterator</a></div><div class="ttdeci">details::QueryWithEntityIterator&lt; Components... &gt; WithEntityIterator</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01094">query.hpp:1094</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_a92ab87639e1b038c0869a1b1ab4aaf86"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#a92ab87639e1b038c0869a1b1ab4aaf86">helios::ecs::BasicQuery::CollectWith</a></div><div class="ttdeci">auto CollectWith(ResultAlloc alloc) const -&gt; std::vector&lt; value_type, ResultAlloc &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02149">query.hpp:2149</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_aa215768ac4c8d215de59b80496a632bf"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#aa215768ac4c8d215de59b80496a632bf">helios::ecs::BasicQuery::ArchetypeAllocator</a></div><div class="ttdeci">typename std::allocator_traits&lt; Allocator &gt;::template rebind_alloc&lt; std::reference_wrapper&lt; const details::Archetype &gt; &gt; ArchetypeAllocator</div><div class="ttdoc">Rebind allocator for archetype references.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01104">query.hpp:1105</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_aa4d4a48fb933f073a03cfc360c85a012"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#aa4d4a48fb933f073a03cfc360c85a012">helios::ecs::BasicQuery::operator=</a></div><div class="ttdeci">BasicQuery &amp; operator=(const BasicQuery &amp;)=delete</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_aa6c3033f7cbcb2de19af4bb59b793a58"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#aa6c3033f7cbcb2de19af4bb59b793a58">helios::ecs::BasicQuery::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdoc">Gets iterator to first matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02317">query.hpp:2317</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_aa866541da853fdd95121d0447d1e9192"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#aa866541da853fdd95121d0447d1e9192">helios::ecs::BasicQuery::Zip</a></div><div class="ttdeci">auto Zip(OtherIter other_begin, OtherIter other_end) const &amp;-&gt; utils::ZipAdapter&lt; iterator, OtherIter &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01348">query.hpp:1348</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_aaab526607cb7332f260b157a11d6a05f"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#aaab526607cb7332f260b157a11d6a05f">helios::ecs::BasicQuery::reference</a></div><div class="ttdeci">std::iter_reference_t&lt; details::QueryIterator&lt; Components... &gt; &gt; reference</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01100">query.hpp:1100</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab126f1bd078822d4823733bc9dcfb553"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab126f1bd078822d4823733bc9dcfb553">helios::ecs::BasicQuery::Partition</a></div><div class="ttdeci">auto Partition(const Pred &amp;predicate) const -&gt; std::pair&lt; std::vector&lt; value_type &gt;, std::vector&lt; value_type &gt; &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02219">query.hpp:2219</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab4990adc25ab53f74f4aa683bbf96cc5"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab4990adc25ab53f74f4aa683bbf96cc5">helios::ecs::BasicQuery::allocator_type</a></div><div class="ttdeci">Allocator allocator_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01101">query.hpp:1101</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab5f876d4deb6ce208c144294f57e1deb"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab5f876d4deb6ce208c144294f57e1deb">helios::ecs::BasicQuery::value_type</a></div><div class="ttdeci">std::iter_value_t&lt; details::QueryIterator&lt; Components... &gt; &gt; value_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01097">query.hpp:1097</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab8a8dd158ed28a49198e4fefd28d283b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab8a8dd158ed28a49198e4fefd28d283b">helios::ecs::BasicQuery::end</a></div><div class="ttdeci">iterator end() const noexcept</div><div class="ttdoc">Gets iterator past the last matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01603">query.hpp:1603</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab8ad69c57cc51fbb5468a6d50712d48b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab8ad69c57cc51fbb5468a6d50712d48b">helios::ecs::BasicQuery::get_allocator</a></div><div class="ttdeci">allocator_type get_allocator() const noexcept</div><div class="ttdoc">Gets the allocator used by this query.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01611">query.hpp:1611</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ab8b919eb5244187ca7edd46a6563b8a5"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ab8b919eb5244187ca7edd46a6563b8a5">helios::ecs::BasicQuery::Slide</a></div><div class="ttdeci">auto Slide(size_t window_size) const &amp;-&gt; utils::SlideAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01314">query.hpp:1314</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_abec6b6d18df150c10d70b6b5eeffbaeb"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#abec6b6d18df150c10d70b6b5eeffbaeb">helios::ecs::BasicQuery::BasicQuery</a></div><div class="ttdeci">BasicQuery(WorldT &amp;world, std::vector&lt; ComponentTypeId, Allocator &gt; with_components, std::vector&lt; ComponentTypeId, Allocator &gt; without_components={}, Allocator alloc={})</div><div class="ttdoc">Constructs query with specified filtering criteria.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01991">query.hpp:1991</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_acd7556401e11ec9f0091f9a54c5d3fec"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#acd7556401e11ec9f0091f9a54c5d3fec">helios::ecs::BasicQuery::Take</a></div><div class="ttdeci">auto Take(size_t count) const &amp;-&gt; utils::TakeAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02064">query.hpp:2064</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_acdd9d540031b4c5bf3cbc817ac2a333f"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#acdd9d540031b4c5bf3cbc817ac2a333f">helios::ecs::BasicQuery::Fold</a></div><div class="ttdeci">T Fold(T init, const Func &amp;folder) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02163">query.hpp:2163</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ace823cbc18cc0d0dd625d4994d49b40c"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ace823cbc18cc0d0dd625d4994d49b40c">helios::ecs::BasicQuery::TakeWhile</a></div><div class="ttdeci">auto TakeWhile(Pred predicate) const &amp;-&gt; utils::TakeWhileAdapter&lt; iterator, Pred &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02084">query.hpp:2084</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ad729c5144cf31fc89ba718f540f3f818"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ad729c5144cf31fc89ba718f540f3f818">helios::ecs::BasicQuery::CountIf</a></div><div class="ttdeci">size_t CountIf(const Pred &amp;predicate) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02205">query.hpp:2205</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_adadf46da1f1ba9894ec00bfd69498491"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#adadf46da1f1ba9894ec00bfd69498491">helios::ecs::BasicQuery::Stride</a></div><div class="ttdeci">auto Stride(size_t stride) const &amp;-&gt; utils::StrideAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01330">query.hpp:1330</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ae0198df619d902b8be7fc9549f4058aa"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ae0198df619d902b8be7fc9549f4058aa">helios::ecs::BasicQuery::Collect</a></div><div class="ttdeci">auto Collect() const -&gt; std::vector&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02136">query.hpp:2136</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ae999e46ac7ee360cb2d90c539e429d6b"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ae999e46ac7ee360cb2d90c539e429d6b">helios::ecs::BasicQuery::Any</a></div><div class="ttdeci">bool Any(const Pred &amp;predicate) const</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01443">query.hpp:1443</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_ae9af8788bda768c7da2781b1a8ed4660"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#ae9af8788bda768c7da2781b1a8ed4660">helios::ecs::BasicQuery::MinBy</a></div><div class="ttdeci">auto MinBy(const KeyFunc &amp;key_func) const -&gt; std::optional&lt; value_type &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02270">query.hpp:2270</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_af75348ea81612936915eef76a2b6355d"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#af75348ea81612936915eef76a2b6355d">helios::ecs::BasicQuery::Reverse</a></div><div class="ttdeci">auto Reverse() const &amp;-&gt; utils::ReverseAdapter&lt; iterator &gt;</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l01300">query.hpp:1300</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1BasicQuery_html_af92eeec980880dc9fc76ff7ad2736363"><div class="ttname"><a href="classhelios_1_1ecs_1_1BasicQuery.html#af92eeec980880dc9fc76ff7ad2736363">helios::ecs::BasicQuery::~BasicQuery</a></div><div class="ttdeci">~BasicQuery()=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a28a400ec67e1f3ac34716dcdceef294f"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a28a400ec67e1f3ac34716dcdceef294f">helios::ecs::details::QueryIterator::difference_type</a></div><div class="ttdeci">ptrdiff_t difference_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00138">query.hpp:138</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a306dff52a2088437f2bedd1598cb57a6"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a306dff52a2088437f2bedd1598cb57a6">helios::ecs::details::QueryIterator::pointer</a></div><div class="ttdeci">value_type * pointer</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00139">query.hpp:139</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a5eef5d3263ab3d033fc779352027e6a8"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a5eef5d3263ab3d033fc779352027e6a8">helios::ecs::details::QueryIterator::reference</a></div><div class="ttdeci">value_type reference</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00140">query.hpp:140</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a644b463c32bd3a79891492ca0887287c"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a644b463c32bd3a79891492ca0887287c">helios::ecs::details::QueryIterator::operator==</a></div><div class="ttdeci">bool operator==(const QueryIterator &amp;other) const noexcept</div><div class="ttdoc">Compares iterators for equality.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00198">query.hpp:198</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a849201cd53a8819e5770e3aa790596c7"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a849201cd53a8819e5770e3aa790596c7">helios::ecs::details::QueryIterator::operator!=</a></div><div class="ttdeci">bool operator!=(const QueryIterator &amp;other) const noexcept</div><div class="ttdoc">Compares iterators for inequality.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00207">query.hpp:207</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_a964d8d389a646a24570dc14ca96c9625"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#a964d8d389a646a24570dc14ca96c9625">helios::ecs::details::QueryIterator::iterator_category</a></div><div class="ttdeci">std::forward_iterator_tag iterator_category</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00136">query.hpp:136</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ab3f5e8026c51278be617953f3ab1a162"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ab3f5e8026c51278be617953f3ab1a162">helios::ecs::details::QueryIterator::begin</a></div><div class="ttdeci">QueryIterator begin() const noexcept</div><div class="ttdoc">Returns iterator to the beginning.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00213">query.hpp:213</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_aba64bef91700159f502205cd96869ac8"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aba64bef91700159f502205cd96869ac8">helios::ecs::details::QueryIterator::operator++</a></div><div class="ttdeci">QueryIterator &amp; operator++()</div><div class="ttdoc">Advances iterator to next matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00370">query.hpp:370</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ac3e4175413a8a18a7f0fc7492fd1a239"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac3e4175413a8a18a7f0fc7492fd1a239">helios::ecs::details::QueryIterator::operator--</a></div><div class="ttdeci">QueryIterator &amp; operator--()</div><div class="ttdoc">Moves iterator to previous matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00386">query.hpp:386</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ac5dad572583276aa3a9876a9b0a2d211"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac5dad572583276aa3a9876a9b0a2d211">helios::ecs::details::QueryIterator::end</a></div><div class="ttdeci">QueryIterator end() const noexcept</div><div class="ttdoc">Returns iterator to the end.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00219">query.hpp:219</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ac7b01c26e2e3b696741201cf44fec6a4"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ac7b01c26e2e3b696741201cf44fec6a4">helios::ecs::details::QueryIterator::operator*</a></div><div class="ttdeci">value_type operator*() const</div><div class="ttdoc">Dereferences iterator to get component tuple.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00422">query.hpp:422</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_aca20bd87461d7742e40f69565d6d3c75"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#aca20bd87461d7742e40f69565d6d3c75">helios::ecs::details::QueryIterator::value_type</a></div><div class="ttdeci">std::tuple&lt; ComponentAccessType&lt; Components &gt;... &gt; value_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00137">query.hpp:137</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ad1d56cf797023f78b714aa84fe415540"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ad1d56cf797023f78b714aa84fe415540">helios::ecs::details::QueryIterator::operator=</a></div><div class="ttdeci">QueryIterator &amp; operator=(const QueryIterator &amp;) noexcept=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ae05fdc7b2403a8eab07b97e132fa3179"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ae05fdc7b2403a8eab07b97e132fa3179">helios::ecs::details::QueryIterator::~QueryIterator</a></div><div class="ttdeci">~QueryIterator() noexcept=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_ae47d0858227cee46b609df8cf0381a51"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#ae47d0858227cee46b609df8cf0381a51">helios::ecs::details::QueryIterator::ComponentsType</a></div><div class="ttdeci">std::conditional_t&lt; AllComponentsConst&lt; Components... &gt;, const details::Components, details::Components &gt; ComponentsType</div><div class="ttdoc">Components manager type based on whether all components are const-qualified.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00132">query.hpp:133</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryIterator_html_af3798dd5d4d646a1d7e727ccd03c27bb"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryIterator.html#af3798dd5d4d646a1d7e727ccd03c27bb">helios::ecs::details::QueryIterator::QueryIterator</a></div><div class="ttdeci">QueryIterator(std::span&lt; const std::reference_wrapper&lt; const Archetype &gt; &gt; archetypes, ComponentsType &amp;components, size_t archetype_index=0, size_t entity_index=0)</div><div class="ttdoc">Constructs iterator for query results.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00362">query.hpp:362</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a090e5ea03cc51c32fe8170720b6a4587"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a090e5ea03cc51c32fe8170720b6a4587">helios::ecs::details::QueryWithEntityIterator::value_type</a></div><div class="ttdeci">std::tuple&lt; Entity, ComponentAccessType&lt; Components &gt;... &gt; value_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00257">query.hpp:257</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a0cd4c1f2c3c70dee9297c9d7699cd4bc"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a0cd4c1f2c3c70dee9297c9d7699cd4bc">helios::ecs::details::QueryWithEntityIterator::QueryWithEntityIterator</a></div><div class="ttdeci">QueryWithEntityIterator(std::span&lt; const std::reference_wrapper&lt; const Archetype &gt; &gt; archetypes, ComponentsType &amp;components, size_t archetype_index=0, size_t entity_index=0)</div><div class="ttdoc">Constructs iterator for query results with entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00453">query.hpp:453</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a1d33ef80905a391e96631c4430634b83"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1d33ef80905a391e96631c4430634b83">helios::ecs::details::QueryWithEntityIterator::pointer</a></div><div class="ttdeci">value_type * pointer</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00259">query.hpp:259</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a1e4f35a214163aa2cb9bbc29f53d314b"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1e4f35a214163aa2cb9bbc29f53d314b">helios::ecs::details::QueryWithEntityIterator::operator==</a></div><div class="ttdeci">bool operator==(const QueryWithEntityIterator &amp;other) const noexcept</div><div class="ttdoc">Compares iterators for equality.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00316">query.hpp:316</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a1f0fa729af8d7537de844421f2b1bd7a"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a1f0fa729af8d7537de844421f2b1bd7a">helios::ecs::details::QueryWithEntityIterator::~QueryWithEntityIterator</a></div><div class="ttdeci">~QueryWithEntityIterator() noexcept=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a23aeec40095c8157872912fcf460669e"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a23aeec40095c8157872912fcf460669e">helios::ecs::details::QueryWithEntityIterator::difference_type</a></div><div class="ttdeci">ptrdiff_t difference_type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00258">query.hpp:258</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a29e5159b286fd90eef7bf75d0a4e9045"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a29e5159b286fd90eef7bf75d0a4e9045">helios::ecs::details::QueryWithEntityIterator::end</a></div><div class="ttdeci">QueryWithEntityIterator end() const noexcept</div><div class="ttdoc">Returns iterator to the end.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00337">query.hpp:337</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a6ced68236dd203d32677e653c29a58be"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a6ced68236dd203d32677e653c29a58be">helios::ecs::details::QueryWithEntityIterator::begin</a></div><div class="ttdeci">QueryWithEntityIterator begin() const noexcept</div><div class="ttdoc">Returns iterator to the beginning.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00331">query.hpp:331</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a883b1bd3b05e5c80499f65086e99219a"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a883b1bd3b05e5c80499f65086e99219a">helios::ecs::details::QueryWithEntityIterator::operator!=</a></div><div class="ttdeci">bool operator!=(const QueryWithEntityIterator &amp;other) const noexcept</div><div class="ttdoc">Compares iterators for inequality.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00325">query.hpp:325</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_a88e49f0e4586f628e0c244cf654db8b5"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#a88e49f0e4586f628e0c244cf654db8b5">helios::ecs::details::QueryWithEntityIterator::operator=</a></div><div class="ttdeci">QueryWithEntityIterator &amp; operator=(const QueryWithEntityIterator &amp;) noexcept=default</div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_aae9655b8e5734f718ee8eacd6654321c"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aae9655b8e5734f718ee8eacd6654321c">helios::ecs::details::QueryWithEntityIterator::iterator_category</a></div><div class="ttdeci">std::forward_iterator_tag iterator_category</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00256">query.hpp:256</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_ac19e493498a93f3488512806b6ef8256"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ac19e493498a93f3488512806b6ef8256">helios::ecs::details::QueryWithEntityIterator::operator*</a></div><div class="ttdeci">value_type operator*() const</div><div class="ttdoc">Dereferences iterator to get entity and component tuple.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00514">query.hpp:514</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_acc0a65deba9524b64a0e32ae6ef6d7db"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#acc0a65deba9524b64a0e32ae6ef6d7db">helios::ecs::details::QueryWithEntityIterator::reference</a></div><div class="ttdeci">value_type reference</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00260">query.hpp:260</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_ae284f4ac913e0456160fb63d4d66c77f"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#ae284f4ac913e0456160fb63d4d66c77f">helios::ecs::details::QueryWithEntityIterator::operator--</a></div><div class="ttdeci">QueryWithEntityIterator &amp; operator--()</div><div class="ttdoc">Moves iterator to previous matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00478">query.hpp:478</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_aebeddc2e54315808bebebe8ecdda438a"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#aebeddc2e54315808bebebe8ecdda438a">helios::ecs::details::QueryWithEntityIterator::operator++</a></div><div class="ttdeci">QueryWithEntityIterator &amp; operator++()</div><div class="ttdoc">Advances iterator to next matching entity.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00462">query.hpp:462</a></div></div>
<div class="ttc" id="aclasshelios_1_1ecs_1_1details_1_1QueryWithEntityIterator_html_af60ee16d9bef57ace71d5779f5806f33"><div class="ttname"><a href="classhelios_1_1ecs_1_1details_1_1QueryWithEntityIterator.html#af60ee16d9bef57ace71d5779f5806f33">helios::ecs::details::QueryWithEntityIterator::ComponentsType</a></div><div class="ttdeci">std::conditional_t&lt; AllComponentsConst&lt; Components... &gt;, const details::Components, details::Components &gt; ComponentsType</div><div class="ttdoc">Components manager type based on whether all components are const-qualified.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00252">query.hpp:253</a></div></div>
<div class="ttc" id="acommon__traits_8hpp_html"><div class="ttname"><a href="common__traits_8hpp.html">common_traits.hpp</a></div></div>
<div class="ttc" id="acomponent_8hpp_html"><div class="ttname"><a href="component_8hpp.html">component.hpp</a></div></div>
<div class="ttc" id="acomponents__manager_8hpp_html"><div class="ttname"><a href="components__manager_8hpp.html">components_manager.hpp</a></div></div>
<div class="ttc" id="acore__pch_8hpp_html"><div class="ttname"><a href="core__pch_8hpp.html">core_pch.hpp</a></div></div>
<div class="ttc" id="aentity_8hpp_html"><div class="ttname"><a href="entity_8hpp.html">entity.hpp</a></div></div>
<div class="ttc" id="afunctional__adapters_8hpp_html"><div class="ttname"><a href="functional__adapters_8hpp.html">functional_adapters.hpp</a></div></div>
<div class="ttc" id="alogger_8hpp_html"><div class="ttname"><a href="logger_8hpp.html">logger.hpp</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_1_1details_html_a5034b26966a80a3b3c7ee3c8260b3338"><div class="ttname"><a href="namespacehelios_1_1ecs_1_1details.html#a5034b26966a80a3b3c7ee3c8260b3338">helios::ecs::details::IsConstWorld</a></div><div class="ttdeci">constexpr bool IsConstWorld</div><div class="ttdoc">Helper to detect if World type is const.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00074">query.hpp:74</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_1_1details_html_a66cd9e4416bee68b5fb557ed6674b8e6"><div class="ttname"><a href="namespacehelios_1_1ecs_1_1details.html#a66cd9e4416bee68b5fb557ed6674b8e6">helios::ecs::details::AllComponentsConst</a></div><div class="ttdeci">constexpr bool AllComponentsConst</div><div class="ttdoc">Helper to check if all component types are const-qualified.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00066">query.hpp:66</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_1_1details_html_a813af18a8810bbea84e6c5e157fc3621"><div class="ttname"><a href="namespacehelios_1_1ecs_1_1details.html#a813af18a8810bbea84e6c5e157fc3621">helios::ecs::details::IsConstComponent</a></div><div class="ttdeci">constexpr bool IsConstComponent</div><div class="ttdoc">Helper to check if a type represents a const-qualified component access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00058">query.hpp:58</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_1_1details_html_abd1a4dbf69fb38bd09d2ca0d4943dea3"><div class="ttname"><a href="namespacehelios_1_1ecs_1_1details.html#abd1a4dbf69fb38bd09d2ca0d4943dea3">helios::ecs::details::ComponentAccessType</a></div><div class="ttdeci">std::conditional_t&lt; std::is_reference_v&lt; T &gt;, T, std::conditional_t&lt; std::is_const_v&lt; T &gt;, const ComponentTypeExtractor_t&lt; T &gt; &amp;, ComponentTypeExtractor_t&lt; T &gt; &amp; &gt; &gt; ComponentAccessType</div><div class="ttdoc">Helper to determine the proper return type for component access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00098">query.hpp:104</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_1_1details_html_ad7cdf44f8b65f9736069d19890458149"><div class="ttname"><a href="namespacehelios_1_1ecs_1_1details.html#ad7cdf44f8b65f9736069d19890458149">helios::ecs::details::ComponentTypeExtractor_t</a></div><div class="ttdeci">typename ComponentTypeExtractor&lt; T &gt;::type ComponentTypeExtractor_t</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00050">query.hpp:50</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html"><div class="ttname"><a href="namespacehelios_1_1ecs.html">helios::ecs</a></div><div class="ttdef"><b>Definition</b> <a href="command_8hpp_source.html#l00005">command.hpp:5</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_a4755541af4fd6360392ff763a9ac514b"><div class="ttname"><a href="namespacehelios_1_1ecs.html#a4755541af4fd6360392ff763a9ac514b">helios::ecs::ReadOnlyQueryBuilder</a></div><div class="ttdeci">BasicQueryBuilder&lt; const World, Allocator &gt; ReadOnlyQueryBuilder</div><div class="ttdoc">Type alias for query builder with read-only world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02477">query.hpp:2477</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_a766673fbd9b01884e7c038e8ea55d353"><div class="ttname"><a href="namespacehelios_1_1ecs.html#a766673fbd9b01884e7c038e8ea55d353">helios::ecs::QueryWithEntity</a></div><div class="ttdeci">BasicQueryWithEntity&lt; World, Allocator, Components... &gt; QueryWithEntity</div><div class="ttdoc">Type alias for query with entity with mutable world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02489">query.hpp:2489</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_a83d597eaa8fb1e270bfe8d4bc7245ced"><div class="ttname"><a href="namespacehelios_1_1ecs.html#a83d597eaa8fb1e270bfe8d4bc7245ced">helios::ecs::QueryBuilder</a></div><div class="ttdeci">BasicQueryBuilder&lt; World, Allocator &gt; QueryBuilder</div><div class="ttdoc">Type alias for query builder with mutable world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02473">query.hpp:2473</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_a9ede7913aa71f830d7181d280b3848a1"><div class="ttname"><a href="namespacehelios_1_1ecs.html#a9ede7913aa71f830d7181d280b3848a1">helios::ecs::ComponentTypeId</a></div><div class="ttdeci">size_t ComponentTypeId</div><div class="ttdoc">Type ID for components.</div><div class="ttdef"><b>Definition</b> <a href="component_8hpp_source.html#l00104">component.hpp:104</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_aa400818859ffa5601e8f7cd5b7603d83"><div class="ttname"><a href="namespacehelios_1_1ecs.html#aa400818859ffa5601e8f7cd5b7603d83">helios::ecs::ComponentTypeIdOf</a></div><div class="ttdeci">constexpr ComponentTypeId ComponentTypeIdOf() noexcept</div><div class="ttdoc">Type ID for components using CTTI.</div><div class="ttdef"><b>Definition</b> <a href="component_8hpp_source.html#l00112">component.hpp:112</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_ab717249650b680f0d613245ac2f607be"><div class="ttname"><a href="namespacehelios_1_1ecs.html#ab717249650b680f0d613245ac2f607be">helios::ecs::ReadOnlyQuery</a></div><div class="ttdeci">BasicQuery&lt; const World, Allocator, Components... &gt; ReadOnlyQuery</div><div class="ttdoc">Type alias for query with read-only world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02485">query.hpp:2485</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_aefed4ec5025ab3f103cd9a288981aed3"><div class="ttname"><a href="namespacehelios_1_1ecs.html#aefed4ec5025ab3f103cd9a288981aed3">helios::ecs::ReadOnlyQueryWithEntity</a></div><div class="ttdeci">BasicQueryWithEntity&lt; const World, Allocator, Components... &gt; ReadOnlyQueryWithEntity</div><div class="ttdoc">Type alias for query with entity with read-only world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02493">query.hpp:2493</a></div></div>
<div class="ttc" id="anamespacehelios_1_1ecs_html_af0384de48d847585fcb340c71c231e5e"><div class="ttname"><a href="namespacehelios_1_1ecs.html#af0384de48d847585fcb340c71c231e5e">helios::ecs::Query</a></div><div class="ttdeci">BasicQuery&lt; World, Allocator, Components... &gt; Query</div><div class="ttdoc">Type alias for query with mutable world access.</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l02481">query.hpp:2481</a></div></div>
<div class="ttc" id="aquery__cache_8hpp_html"><div class="ttname"><a href="query__cache_8hpp.html">query_cache.hpp</a></div></div>
<div class="ttc" id="astructhelios_1_1ecs_1_1details_1_1ComponentTypeExtractor_html_a6b7d3f7cf10325559587e9155ffa8a3a"><div class="ttname"><a href="structhelios_1_1ecs_1_1details_1_1ComponentTypeExtractor.html#a6b7d3f7cf10325559587e9155ffa8a3a">helios::ecs::details::ComponentTypeExtractor::type</a></div><div class="ttdeci">std::remove_cvref_t&lt; T &gt; type</div><div class="ttdef"><b>Definition</b> <a href="query_8hpp_source.html#l00046">query.hpp:46</a></div></div>
<div class="ttc" id="aworld_8hpp_html"><div class="ttname"><a href="world_8hpp.html">world.hpp</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1+ with doxygen-awesome-css -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <div style="text-align: center; padding: 1em 0; font-size: 0.9em;">
        <div style="margin-bottom: 0.5em;">
          &copy; 2025 <strong>Helios Engine</strong> - A modular ECS based data-oriented C++23 game engine framework
        </div>
        <div style="color: var(--text-color-secondary, #888);">
          Generated by
          <a href="https://www.doxygen.org/index.html" target="_blank" rel="noopener noreferrer">
            <img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/>
          </a> 1.9.8
        </div>
        <div style="margin-top: 0.5em; color: var(--text-color-secondary, #888);">
          Styled with <a href="https://github.com/jothepro/doxygen-awesome-css" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color, #1779c4); text-decoration: none;">doxygen-awesome-css</a>
        </div>
      </div>
    </li>
  </ul>
</div>
</body>
</html>
